<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mochawesome Report Card</title>
    
    <link rel="stylesheet" href="css/mochawesome.css">
  </head>
  <body>

    <!-- NAVBAR -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="report-info-cnt">
          <h1 class="report-title">buzzer.click</h1>
          <h3 class="report-date">Monday, September 11 2017, 02:52pm</h3>
        </div>
        <div class="nav-right">
          <div class="quick-summary-cnt">
              <ul class="list-unstyled quick-summary">
                <li class="qs-item summary-duration" title="Duration">3.300<span>S</span></li>
                <li class="qs-item summary-suites" title="Suites">37</li>
                <li class="qs-item summary-tests" title="Tests">129</li>
                <li class="qs-item summary-passes" title="Passed" data-filter="passed">129</li>
                <li class="qs-item summary-failures" title="Failed" data-filter="failed">0</li>
                <li class="qs-item summary-pending" title="Pending" data-filter="pending">0</li>
              </ul>          </div>
          <button class="nav-menu-btn open-menu"><i class="icon-menu"></i></button>
        </div>
      </div>
    </div>

    <!-- Report Summary -->
    <div class="summary">
      <div class="container">
          <div class="row">
            <div class="summary-col summary-duration">
              <h1 class="summary-count">3.300<span>S</span></h1>
              <h4 class="summary-label">S</h4>
            </div>
            <div class="summary-col summary-suites" title="Suites">
              <h1 class="summary-count">37</h1>
              <h4 class="summary-label">Suites</h4>
            </div>
            <div class="summary-col summary-tests" title="Tests">
              <h1 class="summary-count">129</h1>
              <h4 class="summary-label">Tests</h4>
            </div>
            <div class="summary-col summary-passes" data-filter="passed" title="Passed">
              <h1 class="summary-count">129</h1>
              <h4 class="summary-label">Passed</h4>
            </div>
            <div class="summary-col summary-failures" data-filter="failed" title="Failed">
              <h1 class="summary-count">0</h1>
              <h4 class="summary-label">Failed</h4>
            </div>
            <div class="summary-col summary-pending" data-filter="pending" title="Pending">
              <h1 class="summary-count">0</h1>
              <h4 class="summary-label">Pending</h4>
            </div>
          </div>      </div>
    </div>
    <div class="statusbar">
      <div class="container">
          <div class="row">
            <div class="status-item status-item-pending-pct">0% Pending</div>
            <div class="status-item status-item-passing-pct success">100% Passing</div>
          </div>      </div>
    </div>

    <!-- Suites -->
    <div class="details container">
            <section class="suite-wrap">
          <div id="3ca22600-7a84-4a61-8ddd-3a74908d68b1" class="suite has-suites">
            <h3 class="suite-title">Buzzer server</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
        
              <section class="suite-wrap">
          <div id="b20e5d70-5a4a-43d2-8eda-d58682d1416d" class="suite has-suites">
            <h3 class="suite-title">contestant</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
        
              <section class="suite-wrap">
          <div id="1fe5a745-6f98-452d-8338-259ff0325451" class="suite has-suites">
            <h3 class="suite-title">join</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
        
              <section class="suite-wrap">
          <div id="987e6940-3f9b-4a5a-ac63-fdfa1f600c19" class="suite has-tests has-passed">
            <h3 class="suite-title">as individual</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="987e6940-3f9b-4a5a-ac63-fdfa1f600c19" class="suite-chart" width="50" height="50" data-total-passes="8" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">316 ms</li>
                <li class="suite-summary-item tests">8</li>
                <li class="suite-summary-item passed">8</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#987e6940-3f9b-4a5a-ac63-fdfa1f600c19-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="987e6940-3f9b-4a5a-ac63-fdfa1f600c19-test-list" class="list-group test-list collapse in">
                    <div id="d430898a-ccbf-4ec6-b842-a51eb0fcea4a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d430898a-ccbf-4ec6-b842-a51eb0fcea4a > .test-code.collapse">Code</button>
              <span class="test-duration slow">118 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        rm.contestantId.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="161b67e5-52ff-4ffa-b8ce-34f9794965ff" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#161b67e5-52ff-4ffa-b8ce-34f9794965ff > .test-code.collapse">Code</button>
              <span class="test-duration fast">23 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        om.gameState.contestants.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.contestants[<span class="hljs-number">0</span>].username.should.equal(<span class="hljs-string">'Test Person'</span>);<br>        done();<br>    });<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'Test Person'</span>, rm.sessionId);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="98276b1f-fea1-4877-a8c1-a88d60ed5e81" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#98276b1f-fea1-4877-a8c1-a88d60ed5e81 > .test-code.collapse">Code</button>
              <span class="test-duration fast">36 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">responseMessage</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rm1 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm1.sessionId = responseMessage.sessionId;<br>    rm1.username = <span class="hljs-string">'TP1'</span>;<br>    <span class="hljs-keyword">var</span> rm2 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm2.sessionId = responseMessage.sessionId;<br>    rm2.username = <span class="hljs-string">'TP2'</span>;<br>    <span class="hljs-comment">// Contestant 1 join</span><br>    cc1.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm1, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m1</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm1 = messageFactory.restore(m1, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm1.wasSuccessful.should.be.true();<br>        <span class="hljs-comment">// Contestant 2 join</span><br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm2, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m2</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm2 = messageFactory.restore(m2, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            rm2.wasSuccessful.should.be.false();<br>            rm2.failedRequestReason.should.equal(constants.messages.MAXIMUM_SESSION_SIZED_REACHED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4360a205-8a94-434c-b491-6e0dd08ff63a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to contestant room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4360a205-8a94-434c-b491-6e0dd08ff63a > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for Contestant update</span><br>    cc.on(<span class="hljs-string">'testMessage'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        m.should.equal(<span class="hljs-string">'test'</span>);<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.sendMessageToContestants(sessionId, <span class="hljs-string">'testMessage'</span>, <span class="hljs-string">'test'</span>);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="090ff436-d18a-49c4-ad9b-2153ef4e2c77" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#090ff436-d18a-49c4-ad9b-2153ef4e2c77 > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    cc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-comment">// Hack: this event may fire twice</span><br>        helper.closeClients();<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.forceObserveUpdate(sessionId);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="016777a6-60d0-4186-bf96-08efe78102fa" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#016777a6-60d0-4186-bf96-08efe78102fa > .test-code.collapse">Code</button>
              <span class="test-duration fast">21 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = idUtility.generateSessionId();<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="78ba7283-2858-4220-8cfa-1420bca48cd0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#78ba7283-2858-4220-8cfa-1420bca48cd0 > .test-code.collapse">Code</button>
              <span class="test-duration fast">28 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="5b20a9c2-6ccd-467b-8a73-e579e05011df" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when username is taken
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5b20a9c2-6ccd-467b-8a73-e579e05011df > .test-code.collapse">Code</button>
              <span class="test-duration fast">28 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>        <span class="hljs-comment">// Join</span><br>        <span class="hljs-keyword">var</span> rm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>        rm.sessionId = sessionId;<br>        rm.username = <span class="hljs-string">'username'</span>;<br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{<br>            <span class="hljs-keyword">var</span> responseMessage = messageFactory.restore(message, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            responseMessage.should.not.be.null();<br>            responseMessage.wasSuccessful.should.be.false();<br>            responseMessage.failedRequestReason.should.equal(constants.messages.USERNAME_TAKEN);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="20e797f6-9bfb-492f-8170-95029dd06109" class="suite has-suites has-tests has-passed">
            <h3 class="suite-title">with teams</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="20e797f6-9bfb-492f-8170-95029dd06109" class="suite-chart" width="50" height="50" data-total-passes="10" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">224 ms</li>
                <li class="suite-summary-item tests">10</li>
                <li class="suite-summary-item passed">10</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#20e797f6-9bfb-492f-8170-95029dd06109-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="20e797f6-9bfb-492f-8170-95029dd06109-test-list" class="list-group test-list collapse in">
                    <div id="9730e7a9-adfd-49d7-aa68-0ba595471a4b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9730e7a9-adfd-49d7-aa68-0ba595471a4b > .test-code.collapse">Code</button>
              <span class="test-duration fast">19 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        rm.contestantId.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="7f43d1e5-d7a8-40e0-a209-f9db12e5741c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7f43d1e5-d7a8-40e0-a209-f9db12e5741c > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        om.gameState.contestants.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.contestants[<span class="hljs-number">0</span>].username.should.equal(<span class="hljs-string">'Test Person'</span>);<br>        om.gameState.teams.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.teams[<span class="hljs-number">0</span>].contestants.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.teams[<span class="hljs-number">0</span>].contestants[<span class="hljs-number">0</span>].username.should.equal(<span class="hljs-string">'Test Person'</span>);<br>        done();<br>    });<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'Test Person'</span>, rm.sessionId);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2fc3f768-98db-4616-a0fd-1beeb956af45" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2fc3f768-98db-4616-a0fd-1beeb956af45 > .test-code.collapse">Code</button>
              <span class="test-duration fast">33 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">responseMessage</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rm1 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm1.sessionId = responseMessage.sessionId;<br>    rm1.username = <span class="hljs-string">'TP1'</span>;<br>    <span class="hljs-keyword">var</span> rm2 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm2.sessionId = responseMessage.sessionId;<br>    rm2.username = <span class="hljs-string">'TP2'</span>;<br>    <span class="hljs-comment">// Contestant 1 join</span><br>    cc1.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm1, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m1</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm1 = messageFactory.restore(m1, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm1.wasSuccessful.should.be.true();<br>        <span class="hljs-comment">// Contestant 2 join</span><br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm2, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m2</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm2 = messageFactory.restore(m2, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            rm2.wasSuccessful.should.be.false();<br>            rm2.failedRequestReason.should.equal(constants.messages.TEAMS_ARE_FULL);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4fb3a6e8-ebbe-4f0e-8e58-6f0b17c714ff" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to contestant room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4fb3a6e8-ebbe-4f0e-8e58-6f0b17c714ff > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for Contestant update</span><br>    cc.on(<span class="hljs-string">'testMessage'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        m.should.equal(<span class="hljs-string">'test'</span>);<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.sendMessageToContestants(sessionId, <span class="hljs-string">'testMessage'</span>, <span class="hljs-string">'test'</span>);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="52d79b3a-640a-4f20-b554-66668f40212d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#52d79b3a-640a-4f20-b554-66668f40212d > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    cc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-comment">// Hack: this event may fire twice</span><br>        helper.closeClients();<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.forceObserveUpdate(sessionId);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="19f050f3-103f-4a49-9cf6-8f9f9fd19d43" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#19f050f3-103f-4a49-9cf6-8f9f9fd19d43 > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = idUtility.generateSessionId();<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="87c7606f-b612-40ad-8389-4d5fe3022da2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#87c7606f-b612-40ad-8389-4d5fe3022da2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c7826714-598f-4c7e-a308-f510dc68da5e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when username is taken
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c7826714-598f-4c7e-a308-f510dc68da5e > .test-code.collapse">Code</button>
              <span class="test-duration fast">29 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>        <span class="hljs-comment">// Join</span><br>        <span class="hljs-keyword">var</span> rm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>        rm.sessionId = sessionId;<br>        rm.username = <span class="hljs-string">'username'</span>;<br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{<br>            <span class="hljs-keyword">var</span> responseMessage = messageFactory.restore(message, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            responseMessage.should.not.be.null();<br>            responseMessage.wasSuccessful.should.be.false();<br>            responseMessage.failedRequestReason.should.equal(constants.messages.USERNAME_TAKEN);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="cc7d0295-fd1d-49d6-8f4a-290bef5a84d8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should inquire about team leader position
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#cc7d0295-fd1d-49d6-8f4a-290bef5a84d8 > .test-code.collapse">Code</button>
              <span class="test-duration fast">17 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="914208d8-02ac-487e-94b0-c745b1c58264" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not inquire about team leader position
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#914208d8-02ac-487e-94b0-c745b1c58264 > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.false();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
              <section class="suite-wrap">
          <div id="521b54e6-3750-4440-94c1-d4580867036f" class="suite has-tests has-passed">
            <h3 class="suite-title">when team leader selection method is RANDOM</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="521b54e6-3750-4440-94c1-d4580867036f" class="suite-chart" width="50" height="50" data-total-passes="2" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">50 ms</li>
                <li class="suite-summary-item tests">2</li>
                <li class="suite-summary-item passed">2</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#521b54e6-3750-4440-94c1-d4580867036f-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="521b54e6-3750-4440-94c1-d4580867036f-test-list" class="list-group test-list collapse in">
                    <div id="97a58119-7e4f-4b73-a340-ffaa9fd30fdd" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should fulfill team leader position when team is full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#97a58119-7e4f-4b73-a340-ffaa9fd30fdd > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(cc2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>            t.teamLeader.username.should.equalOneOf(<span class="hljs-string">'c1'</span>, <span class="hljs-string">'c2'</span>);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="167a62a0-92d9-4d61-8a54-b1252caa0a78" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not fulfill team leader position when team is not full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#167a62a0-92d9-4d61-8a54-b1252caa0a78 > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">3</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(cc2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>            should(t.teamLeader).be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="7f285b66-cd09-4f8d-9f5f-361527f49242" class="suite has-tests has-passed">
            <h3 class="suite-title">when team selection method is PLAYER_CHOICE</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="7f285b66-cd09-4f8d-9f5f-361527f49242" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">155 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#7f285b66-cd09-4f8d-9f5f-361527f49242-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="7f285b66-cd09-4f8d-9f5f-361527f49242-test-list" class="list-group test-list collapse in">
                    <div id="7d07a29d-0e9e-4fb5-aa12-d3391210d054" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should respond with a list of teams
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7d07a29d-0e9e-4fb5-aa12-d3391210d054 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">3</span>;<br>s.teamSize = <span class="hljs-number">3</span>;<br>s.teamSelectionMethod = constants.teamSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.wasSuccessful.should.be.false();<br>        rm.mustChooseTeam.should.be.true();<br>        rm.teams.should.be.Array();<br>        rm.teams.length.should.equal(<span class="hljs-number">3</span>);<br>        helper.getLatestSession().contestants.length.should.equal(<span class="hljs-number">0</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="91f5419d-72b3-4fdc-bcf8-307ae0c9c556" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should all when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#91f5419d-72b3-4fdc-bcf8-307ae0c9c556 > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">3</span>;<br>s.teamSize = <span class="hljs-number">3</span>;<br>s.teamSelectionMethod = constants.teamSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.wasSuccessful.should.be.false();<br>        rqm.teamName = rm.teams[<span class="hljs-number">1</span>];<br>        cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            rm.wasSuccessful.should.be.true();<br>            should(rm.contestantId).not.be.null();<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> t = session.teams.getByTeamName(rqm.teamName);<br>            t.contestants.length.should.equal(<span class="hljs-number">1</span>);<br>            t.contestants.all[<span class="hljs-number">0</span>].id.should.equal(rm.contestantId);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ac851d4a-f6a8-464d-a22b-1aeae73f57ee" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not over fill a team
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ac851d4a-f6a8-464d-a22b-1aeae73f57ee > .test-code.collapse">Code</button>
              <span class="test-duration slow">126 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">2</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamSelectionMethod = constants.teamSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.wasSuccessful.should.be.false();<br>        rqm.teamName = rm.teams[<span class="hljs-number">1</span>];<br>        <span class="hljs-comment">// Fill the spot</span><br>        <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>        <span class="hljs-keyword">var</span> rqm2 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>        rqm2.sessionId = sessionId;<br>        rqm2.username = <span class="hljs-string">'Test Person2'</span>;<br>        rqm2.teamName = rqm.teamName;<br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm2, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            rm.wasSuccessful.should.be.true();<br>            <span class="hljs-comment">// Try join full team</span><br>            cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>                rm.wasSuccessful.should.be.false();<br>                rm.failedRequestReason.should.equal(constants.messages.TEAMS_ARE_FULL);<br>                done();<br>            });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="63ec090d-5eac-43f9-9787-57b1f3542a39" class="suite has-tests has-passed">
            <h3 class="suite-title">rejoin</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="63ec090d-5eac-43f9-9787-57b1f3542a39" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">134 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#63ec090d-5eac-43f9-9787-57b1f3542a39-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="63ec090d-5eac-43f9-9787-57b1f3542a39-test-list" class="list-group test-list collapse in">
                    <div id="7f9d15a2-f3e4-42dd-a7b6-c8c64c7a1a39" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid and subscribe contestant to the observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7f9d15a2-f3e4-42dd-a7b6-c8c64c7a1a39 > .test-code.collapse">Code</button>
              <span class="test-duration fast">37 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    helper.contestantJoin(cc, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        cc.disconnect();<br>        cc = helper.createClient();<br>        <span class="hljs-comment">// listen for observer update</span><br>        cc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-comment">// Hack: this event may fire twice</span><br>            helper.closeClients();<br>            <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>            om.should.not.be.null();<br>            done();<br>        });<br>        <span class="hljs-comment">// Rejoin</span><br>        <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>        rqm.sessionId = sessionId;<br>        rqm.participantId = contestantId;<br>        rqm.rejoinAs = constants.rejoinAs.CONTESTANT;<br>        cc.emit(messageConstants.REJOIN_SESSION, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1743f6fd-e9fb-430d-a7d8-ad321fd1ee80" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1743f6fd-e9fb-430d-a7d8-ad321fd1ee80 > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    helper.contestantJoin(cc, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        cc.disconnect();<br>        cc = helper.createClient();<br>        <span class="hljs-comment">// Rejoin</span><br>        <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>        rqm.sessionId = idUtility.generateSessionId();<br>        rqm.participantId = contestantId;<br>        rqm.rejoinAs = constants.rejoinAs.CONTESTANT;<br>        cc.emit(messageConstants.REJOIN_SESSION, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1aa6a9f8-5ab1-431d-b669-39bf4d71478b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1aa6a9f8-5ab1-431d-b669-39bf4d71478b > .test-code.collapse">Code</button>
              <span class="test-duration medium">45 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    helper.contestantJoin(cc, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        cc.disconnect();<br>        cc = helper.createClient();<br>        <span class="hljs-comment">// Rejoin</span><br>        <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>        rqm.sessionId = sessionId;<br>        rqm.participantId = contestantId;<br>        rqm.rejoinAs = constants.rejoinAs.CONTESTANT;<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.complete();<br>        cc.emit(messageConstants.REJOIN_SESSION, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="f912c7c1-84d6-4cf5-94e2-cb0af6733271" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should flag host as not disconnected
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f912c7c1-84d6-4cf5-94e2-cb0af6733271 > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    helper.contestantJoin(cc, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        cc.disconnect();<br>        cc = helper.createClient();<br>        <span class="hljs-comment">// Rejoin</span><br>        <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>        rqm.sessionId = sessionId;<br>        rqm.participantId = contestantId;<br>        rqm.rejoinAs = constants.rejoinAs.CONTESTANT;<br>        cc.emit(messageConstants.REJOIN_SESSION, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> c = session.contestants.find(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{<br>                <span class="hljs-keyword">return</span> c.id === contestantId;<br>            });<br>            c.isDisconnected.should.be.false();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="bf152556-835e-4d08-aeac-b3cd3a6712c7" class="suite has-tests has-passed">
            <h3 class="suite-title">on disconnect</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="bf152556-835e-4d08-aeac-b3cd3a6712c7" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">20 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#bf152556-835e-4d08-aeac-b3cd3a6712c7-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="bf152556-835e-4d08-aeac-b3cd3a6712c7-test-list" class="list-group test-list collapse in">
                    <div id="3add47e6-1818-4754-b80d-603e09f524a6" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3add47e6-1818-4754-b80d-603e09f524a6 > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.contestants.length &gt; <span class="hljs-number">0</span> &amp;&amp; om.gameState.contestants[<span class="hljs-number">0</span>].disconnected) {<br>            done();<br>        }<br>    });<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        cc.disconnect();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="954a0e8a-2a8d-419e-bcfb-d1fffb208d15" class="suite has-tests has-passed">
            <h3 class="suite-title">team leader inquiry response</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="954a0e8a-2a8d-419e-bcfb-d1fffb208d15" class="suite-chart" width="50" height="50" data-total-passes="6" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">141 ms</li>
                <li class="suite-summary-item tests">6</li>
                <li class="suite-summary-item passed">6</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#954a0e8a-2a8d-419e-bcfb-d1fffb208d15-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="954a0e8a-2a8d-419e-bcfb-d1fffb208d15-test-list" class="list-group test-list collapse in">
                    <div id="7fd6e847-8e6f-4725-9e1a-c37801543fb2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should set team leader
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7fd6e847-8e6f-4725-9e1a-c37801543fb2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">23 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>            t.teamLeader.username.should.equal(<span class="hljs-string">'Test Person'</span>);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ce992281-4de2-4c62-a15b-620093086cb2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not set team leader
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ce992281-4de2-4c62-a15b-620093086cb2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">false</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>            should(t.teamLeader).be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="68851187-1377-4bc4-a7b9-457f4d35ca2c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#68851187-1377-4bc4-a7b9-457f4d35ca2c > .test-code.collapse">Code</button>
              <span class="test-duration fast">22 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = idUtility.generateSessionId();<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>            rm.should.not.be.null();<br>            rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d43bb1a7-0249-4635-85eb-8d288a114080" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d43bb1a7-0249-4635-85eb-8d288a114080 > .test-code.collapse">Code</button>
              <span class="test-duration fast">19 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        helper.getLatestSession().complete();<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>            rm.should.not.be.null();<br>            rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="8f0381d6-d09b-4f9f-8d4f-11d3251564d4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8f0381d6-d09b-4f9f-8d4f-11d3251564d4 > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = idUtility.generateParticipantId();<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_LEADER_RESPONSE_NOT_CONTESTANT);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c693edcc-da46-4743-84dd-17fb0c154225" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not set team leader when position fulfilled (aka race condition)
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c693edcc-da46-4743-84dd-17fb0c154225 > .test-code.collapse">Code</button>
              <span class="test-duration fast">31 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc1.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        <span class="hljs-keyword">var</span> cc1Id = rm.contestantId;<br>        helper.contestantJoin(cc2, <span class="hljs-string">'Test Person2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            rm.enquireForTeamLeaderPosition.should.be.true();<br>            rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>            rqm.sessionId = sessionId;<br>            rqm.contestantId = rm.contestantId;<br>            rqm.decision = <span class="hljs-literal">true</span>;<br>            cc2.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>                sm.should.not.be.null();<br>                rqm.contestantId = cc1Id;<br>                cc1.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.COULD_NOT_PROMOTE_TO_TEAM_LEADER_POSITION_FULFILLED);<br>                    done();<br>                });<br>            });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="e5aa77eb-e4c3-4231-9dfc-19c09062dc7a" class="suite has-tests has-passed">
            <h3 class="suite-title">buzzerPress</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="e5aa77eb-e4c3-4231-9dfc-19c09062dc7a" class="suite-chart" width="50" height="50" data-total-passes="5" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">113 ms</li>
                <li class="suite-summary-item tests">5</li>
                <li class="suite-summary-item passed">5</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#e5aa77eb-e4c3-4231-9dfc-19c09062dc7a-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="e5aa77eb-e4c3-4231-9dfc-19c09062dc7a-test-list" class="list-group test-list collapse in">
                    <div id="5bd9dc61-1776-49d1-af6f-41af3993bd57" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when state is ready
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5bd9dc61-1776-49d1-af6f-41af3993bd57 > .test-code.collapse">Code</button>
              <span class="test-duration fast">17 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="cac7fb47-db08-4b24-b7a9-26a5a1e404f0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should ignore when state is not ready
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#cac7fb47-db08-4b24-b7a9-26a5a1e404f0 > .test-code.collapse">Code</button>
              <span class="test-duration medium">38 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'username1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc1.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>            helper.contestantJoin(cc2, <span class="hljs-string">'username2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>                bpm.sessionId = sessionId;<br>                bpm.contestantId = rm.contestantId;<br>                cc1.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.BUZZER_PRESS_NOT_ACCEPTED);<br>                    done();<br>                });<br>            });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="bfada71e-7bf4-4f1c-8fab-44e71a178627" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#bfada71e-7bf4-4f1c-8fab-44e71a178627 > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        helper.getLatestSession().complete();<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.ERROR);<br>            sm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e8262290-22e5-4af9-bf02-dcd557272a45" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e8262290-22e5-4af9-bf02-dcd557272a45 > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = idUtility.generateSessionId();<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.ERROR);<br>            sm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="21de282c-5838-47c8-9de4-2bce4a8a4c5c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#21de282c-5838-47c8-9de4-2bce4a8a4c5c > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = idUtility.generateParticipantId();<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.ERROR);<br>            sm.error.should.equal(constants.messages.COULD_NOT_ACCEPT_BUZZER_PRESS_NOT_CONTESTANT);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="29711bb6-14a2-444e-8caf-86126de8f418" class="suite has-tests has-passed">
            <h3 class="suite-title">team name change request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="29711bb6-14a2-444e-8caf-86126de8f418" class="suite-chart" width="50" height="50" data-total-passes="11" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">227 ms</li>
                <li class="suite-summary-item tests">11</li>
                <li class="suite-summary-item passed">11</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#29711bb6-14a2-444e-8caf-86126de8f418-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="29711bb6-14a2-444e-8caf-86126de8f418-test-list" class="list-group test-list collapse in">
                    <div id="f3393450-bf6a-4e9c-8ad2-0e9660f78bda" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f3393450-bf6a-4e9c-8ad2-0e9660f78bda > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            session.teams.all[<span class="hljs-number">0</span>].teamName.should.equal(<span class="hljs-string">'New team name'</span>);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3916ce0a-2a96-4c3e-a402-58b0f9d30fe6" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when team name is already used
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3916ce0a-2a96-4c3e-a402-58b0f9d30fe6 > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">2</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        <span class="hljs-keyword">var</span> contestant = session.contestants[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">var</span> team = session.teams.getByContestant(contestant);<br>        <span class="hljs-keyword">var</span> otherTeam = session.teams.all.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) </span>{<br>            <span class="hljs-keyword">return</span> t !== team;<br>        })[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = otherTeam.teamName;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_IN_USE);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b6bc549a-3d88-45e0-a088-bfddd2f15be2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when team name is empty
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b6bc549a-3d88-45e0-a088-bfddd2f15be2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        <span class="hljs-keyword">var</span> contestant = session.contestants[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">var</span> team = session.teams.getByContestant(contestant);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">' '</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_REQUEST_AS_TEAM_NAME_EMPTY);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2b58c51e-7c56-41d4-b511-0632c7900b64" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when team name does not change
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2b58c51e-7c56-41d4-b511-0632c7900b64 > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        <span class="hljs-keyword">var</span> contestant = session.contestants[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">var</span> team = session.teams.getByContestant(contestant);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = team.teamName;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="60b7171b-0895-4dbf-82ad-ac9eeb314d3c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when not team leader
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#60b7171b-0895-4dbf-82ad-ac9eeb314d3c > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_REQUEST_NOT_CONTESTANT_TEAM_OR_TEAM_LEADER);<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            session.teams.all[<span class="hljs-number">0</span>].teamName.should.not.equal(<span class="hljs-string">'New team name'</span>);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3a8e9d56-b61a-4ab1-bc41-74921c509350" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3a8e9d56-b61a-4ab1-bc41-74921c509350 > .test-code.collapse">Code</button>
              <span class="test-duration fast">21 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = idUtility.generateSessionId();<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3421f377-9bc6-4f6f-bdc5-c161cad6116a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3421f377-9bc6-4f6f-bdc5-c161cad6116a > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = idUtility.generateParticipantId();<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_REQUEST_NOT_CONTESTANT_TEAM_OR_TEAM_LEADER);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c373ebaa-0571-46b2-8386-3bf3b439de84" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c373ebaa-0571-46b2-8386-3bf3b439de84 > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.complete();<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="631194f5-d94f-4e55-8d1a-aac08b1492e2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when setting do not allow it
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#631194f5-d94f-4e55-8d1a-aac08b1492e2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">17 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.MANUAL;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_SETTINGS_NOT_ALLOW);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="baf8c41f-4aa0-40e4-8176-3bd49abf9077" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when team name contains profanity
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#baf8c41f-4aa0-40e4-8176-3bd49abf9077 > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'The word penis is funny #YOLO'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_CONTAINS_PROFANITY);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="27ddf776-ec7f-44e6-924f-09a6d0508594" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers when accepted
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#27ddf776-ec7f-44e6-924f-09a6d0508594 > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.teams &amp;&amp; om.gameState.teams.length) {<br>            <span class="hljs-keyword">if</span> (om.gameState.teams[<span class="hljs-number">0</span>].teamName === <span class="hljs-string">'New team name'</span>) {<br>                done();<br>            }<br>        }<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="cc3dea67-2b1e-4932-9d3c-3d8d85e4eaf1" class="suite has-tests has-passed">
            <h3 class="suite-title">info request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="cc3dea67-2b1e-4932-9d3c-3d8d85e4eaf1" class="suite-chart" width="50" height="50" data-total-passes="5" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">96 ms</li>
                <li class="suite-summary-item tests">5</li>
                <li class="suite-summary-item passed">5</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#cc3dea67-2b1e-4932-9d3c-3d8d85e4eaf1-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="cc3dea67-2b1e-4932-9d3c-3d8d85e4eaf1-test-list" class="list-group test-list collapse in">
                    <div id="0322d604-0adb-4233-864f-c96a65820180" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for individuals contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0322d604-0adb-4233-864f-c96a65820180 > .test-code.collapse">Code</button>
              <span class="test-duration fast">22 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = contestantId;<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>            irm.should.not.be.null();<br>            should(irm.info).not.be.null();<br>            should(irm.info.host).be.null();<br>            should(irm.info.contestant).not.be.null();<br>            should(irm.info.team).be.null();<br>            should(irm.info.session).not.be.null();<br>            should(irm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>            should(irm.info.isObserver).be.false();<br>            should(irm.info.isHost).be.false();<br>            should(irm.info.isContestant).be.true();<br>            should(irm.info.isSessionCompleted).be.false();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="bc72e83d-a259-4f5e-a785-c47c654350be" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for teams contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#bc72e83d-a259-4f5e-a785-c47c654350be > .test-code.collapse">Code</button>
              <span class="test-duration fast">19 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">3</span>;<br>s.teamSize = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = contestantId;<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>            rm.should.not.be.null();<br>            should(rm.info).not.be.null();<br>            should(rm.info.host).be.null();<br>            should(rm.info.contestant).not.be.null();<br>            should(rm.info.team).not.be.null();<br>            should(rm.info.session).not.be.null();<br>            should(rm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>            should(rm.info.isObserver).be.false();<br>            should(rm.info.isHost).be.false();<br>            should(rm.info.isContestant).be.true();<br>            should(rm.info.isSessionCompleted).be.false();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="261f6843-e370-4b82-8b24-672245b59640" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#261f6843-e370-4b82-8b24-672245b59640 > .test-code.collapse">Code</button>
              <span class="test-duration fast">21 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = idUtility.generateSessionId();<br>        req.participantId = contestantId;<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>            em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="47db130d-5e57-46cb-887f-d6d9085cc7ad" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#47db130d-5e57-46cb-887f-d6d9085cc7ad > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = idUtility.generateParticipantId();<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>            em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_CONTESTANT_OR_HOST_NOT_FOUND);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="78e94063-b0c1-4bce-9c4a-aa6f6f5f07aa" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#78e94063-b0c1-4bce-9c4a-aa6f6f5f07aa > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = contestantId;<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.complete();<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>            irm.should.not.be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="3bcd7ba9-4165-41d5-8fc6-7b4eda3cbcf8" class="suite has-suites">
            <h3 class="suite-title">Buzzer server</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="bec32104-0eaf-4e21-baf0-65f87215e746" class="suite has-suites">
            <h3 class="suite-title">host</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="f7351921-ed10-4e2e-b6ad-5acf49494805" class="suite has-suites">
            <h3 class="suite-title">create</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="64ebcd15-7d24-4c14-a9b5-29367d16e465" class="suite has-tests has-passed">
            <h3 class="suite-title">session</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="64ebcd15-7d24-4c14-a9b5-29367d16e465" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">31 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#64ebcd15-7d24-4c14-a9b5-29367d16e465-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="64ebcd15-7d24-4c14-a9b5-29367d16e465-test-list" class="list-group test-list collapse in">
                    <div id="b640bdac-92f8-4e0b-b478-6c930f026529" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid and create a session
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b640bdac-92f8-4e0b-b478-6c930f026529 > .test-code.collapse">Code</button>
              <span class="test-duration fast">9 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test Session'</span>;<br><span class="hljs-keyword">var</span> csm = messageFactory.create(messageConstants.CREATE_SESSION);<br>csm.settings = s;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>c.emit(messageConstants.CREATE_SESSION, csm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    m.should.be.Object();<br>    m.type.should.equal(messageConstants.CREATE_SESSION_RESPONSE);<br>    helper.sessions.all.length.should.equal(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    <span class="hljs-keyword">var</span> rsm = messageFactory.restore(m, messageConstants.CREATE_SESSION_RESPONSE);<br>    rsm.sessionId.should.equal(session.id);<br>    rsm.hostId.should.equal(session.host.id);<br>    done();<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="87ead9a9-2ea2-443b-9c6b-30e22d09a2de" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe host to the observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#87ead9a9-2ea2-443b-9c6b-30e22d09a2de > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br><span class="hljs-comment">// listen for observer update</span><br>c.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>    om.should.not.be.null();<br>    done();<br>});<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    rm.should.not.be.null();<br>    <span class="hljs-comment">// force observer update</span><br>    helper.forceObserveUpdate(rm.sessionId);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4223e5ac-7981-4ec5-bc9d-93efaf6ae47c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when settings are not valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4223e5ac-7981-4ec5-bc9d-93efaf6ae47c > .test-code.collapse">Code</button>
              <span class="test-duration fast">7 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">var</span> [r, e] = s.validate();<br>r.should.be.false();<br><span class="hljs-keyword">var</span> csm = messageFactory.create(messageConstants.CREATE_SESSION);<br>csm.settings = s;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>c.emit(messageConstants.CREATE_SESSION, csm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    m.should.be.Object();<br>    m.type.should.equal(messageConstants.ERROR);<br>    helper.sessions.all.length.should.equal(<span class="hljs-number">0</span>);<br>    done();<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="58ac46ff-d719-4e38-a855-d88638b654cd" class="suite has-suites">
            <h3 class="suite-title">rejoin</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="7c21a97b-fc33-4075-b126-0cff7fcfd597" class="suite has-tests has-passed">
            <h3 class="suite-title">session</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="7c21a97b-fc33-4075-b126-0cff7fcfd597" class="suite-chart" width="50" height="50" data-total-passes="6" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">123 ms</li>
                <li class="suite-summary-item tests">6</li>
                <li class="suite-summary-item passed">6</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#7c21a97b-fc33-4075-b126-0cff7fcfd597-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="7c21a97b-fc33-4075-b126-0cff7fcfd597-test-list" class="list-group test-list collapse in">
                    <div id="1cc16c0a-b191-4d9c-9a28-ef79cf68ffa5" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1cc16c0a-b191-4d9c-9a28-ef79cf68ffa5 > .test-code.collapse">Code</button>
              <span class="test-duration fast">19 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{<br>        data.type.should.equal(messageConstants.SUCCESS);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="91a90540-1656-4666-9326-d46670caefa2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe host to observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#91a90540-1656-4666-9326-d46670caefa2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">17 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    <span class="hljs-comment">// listen for observer update</span><br>    c.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{<br>        data.type.should.equal(messageConstants.SUCCESS);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9d0aa581-420d-4f87-9817-e67e20ad5711" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when host id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9d0aa581-420d-4f87-9817-e67e20ad5711 > .test-code.collapse">Code</button>
              <span class="test-duration fast">37 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = idUtility.generateParticipantId();<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_REJOIN_NOT_HOST);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="7b8ed6d7-fbb8-439f-ad56-edc42d6365c6" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7b8ed6d7-fbb8-439f-ad56-edc42d6365c6 > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = idUtility.generateSessionId();<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2e9d9ce1-646a-4e9d-9763-97c2846431e7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2e9d9ce1-646a-4e9d-9763-97c2846431e7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6d8007b8-3671-4302-bb68-25fd94597945" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should flag host as not disconnected
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6d8007b8-3671-4302-bb68-25fd94597945 > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{<br>        data.type.should.equal(messageConstants.SUCCESS);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.host.isDisconnected.should.be.false();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="22f5bbe1-0ecd-45d0-8a8a-13dd77b057d0" class="suite has-suites">
            <h3 class="suite-title">complete</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="d9f92852-3c05-406a-9431-36c813e7f245" class="suite has-tests has-passed">
            <h3 class="suite-title">session</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="d9f92852-3c05-406a-9431-36c813e7f245" class="suite-chart" width="50" height="50" data-total-passes="5" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">53 ms</li>
                <li class="suite-summary-item tests">5</li>
                <li class="suite-summary-item passed">5</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#d9f92852-3c05-406a-9431-36c813e7f245-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="d9f92852-3c05-406a-9431-36c813e7f245-test-list" class="list-group test-list collapse in">
                    <div id="ee3e8a8d-18ce-4b4b-a9a8-01f58cc7fe13" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ee3e8a8d-18ce-4b4b-a9a8-01f58cc7fe13 > .test-code.collapse">Code</button>
              <span class="test-duration fast">9 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = rm.hostId;<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        rm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6113a3fc-bd63-4e58-8e2a-9ab03e6c88aa" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when host id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6113a3fc-bd63-4e58-8e2a-9ab03e6c88aa > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = idUtility.generateParticipantId();<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.COULD_NOT_COMPLETE_SESSION_NOT_HOST);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1894ad4b-0138-4dfd-9073-2ebbc1d7b5bf" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1894ad4b-0138-4dfd-9073-2ebbc1d7b5bf > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = idUtility.generateSessionId();<br>    scm.hostId = rm.hostId;<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d47dc66b-6cc3-438b-b53d-af3acb056996" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is already completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d47dc66b-6cc3-438b-b53d-af3acb056996 > .test-code.collapse">Code</button>
              <span class="test-duration fast">9 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.getLatestSession().complete();<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = rm.hostId;<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a3932263-27d7-4049-b552-f397fcb63ec3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should notify observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a3932263-27d7-4049-b552-f397fcb63ec3 > .test-code.collapse">Code</button>
              <span class="test-duration fast">8 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = rm.hostId;<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        rm.should.not.be.null();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="4c36036f-b4ee-4d57-befa-490ced4a7b77" class="suite has-suites">
            <h3 class="suite-title">buzzer</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="2c9c542f-9887-4e45-92f5-a53e2da96717" class="suite has-suites has-tests has-passed">
            <h3 class="suite-title">action</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="2c9c542f-9887-4e45-92f5-a53e2da96717" class="suite-chart" width="50" height="50" data-total-passes="12" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">221 ms</li>
                <li class="suite-summary-item tests">12</li>
                <li class="suite-summary-item passed">12</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#2c9c542f-9887-4e45-92f5-a53e2da96717-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="2c9c542f-9887-4e45-92f5-a53e2da96717-test-list" class="list-group test-list collapse in">
                    <div id="c1b99d74-315c-4c33-8cd3-6d78eee2b1a9" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow accept when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c1b99d74-315c-4c33-8cd3-6d78eee2b1a9 > .test-code.collapse">Code</button>
              <span class="test-duration fast">35 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                messageFactory.restore(m, messageConstants.SUCCESS);<br>                helper.getLatestSession().currentState.should<br>                    .equal(constants.gameStates.PENDING);<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> sm = messageFactory.restore(<br>                            rm, messageConstants.SUCCESS<br>                        );<br>                        sm.should.not.be.null();<br>                        helper.getLatestSession().currentState<br>                            .should.equal(constants.gameStates<br>                                .READY);<br>                        helper.getLatestSession().roundWinner<br>                            .should.equal(<span class="hljs-string">'username'</span>);<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b4b35a7c-5a67-480a-b304-660a3b4ee684" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reject when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b4b35a7c-5a67-480a-b304-660a3b4ee684 > .test-code.collapse">Code</button>
              <span class="test-duration fast">28 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                messageFactory.restore(m, messageConstants.SUCCESS);<br>                helper.getLatestSession().currentState.should<br>                    .equal(constants.gameStates.PENDING);<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .REJECT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> sm = messageFactory.restore(<br>                            rm, messageConstants.SUCCESS<br>                        );<br>                        sm.should.not.be.null();<br>                        helper.getLatestSession().currentState<br>                            .should.equal(constants.gameStates<br>                                .READY);<br>                        should(helper.getLatestSession()<br>                            .roundWinner).be.null();<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="cf30b0b3-7ee4-40ad-9065-69d79efc4e0a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reset when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#cf30b0b3-7ee4-40ad-9065-69d79efc4e0a > .test-code.collapse">Code</button>
              <span class="test-duration fast">10 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.RESET;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="88ed271b-459c-4ac5-9940-c0faaa69fd4f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow disable when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#88ed271b-459c-4ac5-9940-c0faaa69fd4f > .test-code.collapse">Code</button>
              <span class="test-duration fast">8 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId, constants.buzzerActionCommands<br>        .DISABLE,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>            sm.should.be.instanceOf(successMessage);<br>            helper.getLatestSession().currentState.should.equal(<br>                constants.gameStates.BUZZER_LOCK);<br>            done();<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b374c2f4-3f1d-4216-8cda-266938f67a4a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow enable when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b374c2f4-3f1d-4216-8cda-266938f67a4a > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId, constants.buzzerActionCommands<br>        .DISABLE,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>            sm.should.be.instanceOf(successMessage);<br>            helper.getLatestSession().currentState.should.equal(<br>                constants.gameStates.BUZZER_LOCK);<br>            helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId,<br>                constants.buzzerActionCommands.ENABLE,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>                    sm.should.be.instanceOf(successMessage);<br>                    helper.getLatestSession().currentState.should<br>                        .equal(constants.gameStates.READY);<br>                    done();<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="63e11173-9688-4cbd-8d06-2b0268776fe8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow accept when state is not pending
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#63e11173-9688-4cbd-8d06-2b0268776fe8 > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.ACCEPT;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2fbe1087-d144-4d1e-93b4-c78cbf52270c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow reject when state is not pending
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2fbe1087-d144-4d1e-93b4-c78cbf52270c > .test-code.collapse">Code</button>
              <span class="test-duration fast">9 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.REJECT;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="feade970-e76a-46c4-aa9b-66b158b2ccad" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reset when game state is ready
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#feade970-e76a-46c4-aa9b-66b158b2ccad > .test-code.collapse">Code</button>
              <span class="test-duration fast">10 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.RESET;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1a758e76-c415-425f-8f8a-eb3f4b2c02ee" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reset when game state is pending
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1a758e76-c415-425f-8f8a-eb3f4b2c02ee > .test-code.collapse">Code</button>
              <span class="test-duration fast">23 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                messageFactory.restore(m, messageConstants.SUCCESS);<br>                helper.getLatestSession().currentState.should<br>                    .equal(constants.gameStates.PENDING);<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .RESET;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> sm = messageFactory.restore(<br>                            rm, messageConstants.SUCCESS<br>                        );<br>                        sm.should.not.be.null();<br>                        helper.getLatestSession().currentState<br>                            .should.equal(constants.gameStates<br>                                .READY);<br>                        should.not.exist(helper.getLatestSession()<br>                            .roundWinner);<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="23905f51-6bd1-48d9-b5e0-cf53b02a95f8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow response when host id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#23905f51-6bd1-48d9-b5e0-cf53b02a95f8 > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = idUtility.generateParticipantId();<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> em = messageFactory.restore(<br>                            rm, messageConstants.ERROR<br>                        );<br>                        em.error.should.equal(constants<br>                            .messages.COULD_NOT_ACCEPT_REQUEST_NOT_HOST<br>                        );<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="f6538128-86a6-4caf-942f-31db63f5bcc3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow response when session id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f6538128-86a6-4caf-942f-31db63f5bcc3 > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = idUtility.generateSessionId();<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> em = messageFactory.restore(<br>                            rm, messageConstants.ERROR<br>                        );<br>                        em.error.should.equal(constants<br>                            .messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED<br>                        );<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="8ae95247-570e-4dea-9cf8-97ceb49a65a0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow response when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8ae95247-570e-4dea-9cf8-97ceb49a65a0 > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                helper.getLatestSession().complete();<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> em = messageFactory.restore(<br>                            rm, messageConstants.ERROR<br>                        );<br>                        em.error.should.equal(constants<br>                            .messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED<br>                        );<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
              <section class="suite-wrap">
          <div id="6de77308-3c3b-4016-83f2-7a321264fd5d" class="suite has-tests has-passed">
            <h3 class="suite-title">when accepted</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="6de77308-3c3b-4016-83f2-7a321264fd5d" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">77 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#6de77308-3c3b-4016-83f2-7a321264fd5d-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="6de77308-3c3b-4016-83f2-7a321264fd5d-test-list" class="list-group test-list collapse in">
                    <div id="1d1462fb-7e58-4391-a144-bc7e073a9c9e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1d1462fb-7e58-4391-a144-bc7e073a9c9e > .test-code.collapse">Code</button>
              <span class="test-duration fast">27 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m,<br>            messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.contestants.length &amp;&amp; om.gameState<br>            .contestants[<span class="hljs-number">0</span>].score === <span class="hljs-number">1</span>) {<br>            done();<br>        }<br>    });<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .ACCEPT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="07630024-a64c-47d0-a709-7a21d36ad48c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#07630024-a64c-47d0-a709-7a21d36ad48c > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .ACCEPT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">1</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d36f662f-218d-419a-ac3f-122cf501666b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d36f662f-218d-419a-ac3f-122cf501666b > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .ACCEPT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">1</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">1</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="a30a415d-73e0-4670-bac8-3517558af539" class="suite has-tests has-passed">
            <h3 class="suite-title">when rejected</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="a30a415d-73e0-4670-bac8-3517558af539" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">79 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#a30a415d-73e0-4670-bac8-3517558af539-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="a30a415d-73e0-4670-bac8-3517558af539-test-list" class="list-group test-list collapse in">
                    <div id="84d8b852-4474-4719-a88d-e0e63ce32a42" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#84d8b852-4474-4719-a88d-e0e63ce32a42 > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> observedPending = <span class="hljs-literal">false</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m,<br>            messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.currentState === constants<br>            .gameStates.PENDING) {<br>            observedPending = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">return</span>;<br>        }<br>        <span class="hljs-keyword">if</span> (observedPending &amp;&amp; om.gameState.currentState ===<br>            constants.gameStates.READY) {<br>            om.gameState.contestants.length.should.equal(<br>                <span class="hljs-number">1</span>);<br>            om.gameState.contestants[<span class="hljs-number">0</span>].score.should<br>                .equal(<span class="hljs-number">0</span>);<br>            done();<br>        }<br>    });<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .REJECT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="129afeff-fd7b-4074-8c4e-01e63d776244" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#129afeff-fd7b-4074-8c4e-01e63d776244 > .test-code.collapse">Code</button>
              <span class="test-duration fast">34 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .REJECT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3e2f8e1b-b957-4dcd-b143-628ed8b315fc" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3e2f8e1b-b957-4dcd-b143-628ed8b315fc > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .REJECT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="7bb15241-3798-4971-b80c-de855f5445c9" class="suite has-tests has-passed">
            <h3 class="suite-title">when reset</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="7bb15241-3798-4971-b80c-de855f5445c9" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">77 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#7bb15241-3798-4971-b80c-de855f5445c9-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="7bb15241-3798-4971-b80c-de855f5445c9-test-list" class="list-group test-list collapse in">
                    <div id="a32c6518-e2a1-443c-9c59-844a298256bd" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a32c6518-e2a1-443c-9c59-844a298256bd > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> observedPending = <span class="hljs-literal">false</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m,<br>            messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.currentState === constants<br>            .gameStates.PENDING) {<br>            observedPending = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">return</span>;<br>        }<br>        <span class="hljs-keyword">if</span> (observedPending &amp;&amp; om.gameState.currentState ===<br>            constants.gameStates.READY) {<br>            om.gameState.contestants.length.should.equal(<br>                <span class="hljs-number">1</span>);<br>            om.gameState.contestants[<span class="hljs-number">0</span>].score.should<br>                .equal(<span class="hljs-number">0</span>);<br>            done();<br>        }<br>    });<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            helper.contestantBuzzerPress(cc, sessionId,<br>                rm.contestantId,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>                    helper.hostBuzzerAction(hc,<br>                        sessionId, hostId,<br>                        constants.buzzerActionCommands<br>                        .RESET);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="71e09d6b-ab17-495a-a826-8c52f86525e4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#71e09d6b-ab17-495a-a826-8c52f86525e4 > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .RESET;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="931d8679-d4f3-4313-b264-3e45878dbdfa" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#931d8679-d4f3-4313-b264-3e45878dbdfa > .test-code.collapse">Code</button>
              <span class="test-duration fast">27 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .RESET;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="e834e9dc-2875-4ff2-b43b-606309288230" class="suite has-tests has-passed">
            <h3 class="suite-title">when disabled</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="e834e9dc-2875-4ff2-b43b-606309288230" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">70 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#e834e9dc-2875-4ff2-b43b-606309288230-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="e834e9dc-2875-4ff2-b43b-606309288230-test-list" class="list-group test-list collapse in">
                    <div id="ea17e553-85f6-4908-9e1b-c4a73084a039" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ea17e553-85f6-4908-9e1b-c4a73084a039 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br><span class="hljs-comment">// listen for observer update</span><br>hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>    <span class="hljs-keyword">if</span> (om.gameState.currentState === constants.gameStates.BUZZER_LOCK) {<br>        done();<br>    }<br>});<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId,<br>        constants.buzzerActionCommands.DISABLE);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="67774925-28c0-4e8e-93b3-c30e5b55fb60" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#67774925-28c0-4e8e-93b3-c30e5b55fb60 > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .DISABLE;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="453817f5-8791-4eb9-8c8a-7981ff63a566" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#453817f5-8791-4eb9-8c8a-7981ff63a566 > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .DISABLE;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="59b42d25-2499-458a-ba73-68c479f76ea1" class="suite has-tests has-passed">
            <h3 class="suite-title">when enabled</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="59b42d25-2499-458a-ba73-68c479f76ea1" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">13 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#59b42d25-2499-458a-ba73-68c479f76ea1-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="59b42d25-2499-458a-ba73-68c479f76ea1-test-list" class="list-group test-list collapse in">
                    <div id="1a3d2a5e-a3ff-453b-96c9-fab78d2658b0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1a3d2a5e-a3ff-453b-96c9-fab78d2658b0 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br><span class="hljs-keyword">var</span> observedLocked = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// listen for observer update</span><br>hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>    <span class="hljs-keyword">if</span> (om.gameState.currentState === constants.gameStates.BUZZER_LOCK) {<br>        observedLocked = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span>;<br>    }<br>    <span class="hljs-keyword">if</span> (observedLocked &amp;&amp; om.gameState.currentState ===<br>        constants.gameStates.READY) {<br>        done();<br>    }<br>});<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId,<br>        constants.buzzerActionCommands.DISABLE,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>            sm.should.be.instanceOf(successMessage);<br>            helper.getLatestSession().currentState.should<br>                .equal(constants.gameStates.BUZZER_LOCK);<br>            helper.hostBuzzerAction(hc, rm.sessionId,<br>                rm.hostId, constants.buzzerActionCommands<br>                .ENABLE,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>                    sm.should.be.instanceOf(<br>                        successMessage);<br>                    helper.getLatestSession().currentState<br>                        .should.equal(constants.gameStates<br>                            .READY);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="5a4769d3-ae99-4341-bf70-eabf521afbb9" class="suite has-tests has-passed">
            <h3 class="suite-title">team name change</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="5a4769d3-ae99-4341-bf70-eabf521afbb9" class="suite-chart" width="50" height="50" data-total-passes="8" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">94 ms</li>
                <li class="suite-summary-item tests">8</li>
                <li class="suite-summary-item passed">8</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#5a4769d3-ae99-4341-bf70-eabf521afbb9-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="5a4769d3-ae99-4341-bf70-eabf521afbb9-test-list" class="list-group test-list collapse in">
                    <div id="bf2778bf-f630-406f-a50b-ed499dab71eb" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#bf2778bf-f630-406f-a50b-ed499dab71eb > .test-code.collapse">Code</button>
              <span class="test-duration fast">10 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'The new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        team.teamName.should.equal(req.teamNameTo);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d24e5f40-b503-4e13-9b7b-854313a175dc" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when name contains profanity
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d24e5f40-b503-4e13-9b7b-854313a175dc > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'ash0le penis'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        team.teamName.should.equal(req.teamNameTo);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2e76c299-1ce7-470c-bb90-9dae8d03193d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when team name editing is manual
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2e76c299-1ce7-470c-bb90-9dae8d03193d > .test-code.collapse">Code</button>
              <span class="test-duration fast">12 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.MANUAL;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'The new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        team.teamName.should.equal(req.teamNameTo);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="36363f8f-5186-45a0-8afa-31084b26ff98" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#36363f8f-5186-45a0-8afa-31084b26ff98 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    session.complete();<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'A new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="74206c12-5b7d-4904-ba72-d63c55a7d630" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when not the host
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#74206c12-5b7d-4904-ba72-d63c55a7d630 > .test-code.collapse">Code</button>
              <span class="test-duration fast">9 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = idUtility.generateParticipantId();<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'A new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_REQUEST_NOT_HOST);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="7a43544a-2e9c-4b0d-8512-78c0927e3297" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it team does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7a43544a-2e9c-4b0d-8512-78c0927e3297 > .test-code.collapse">Code</button>
              <span class="test-duration fast">12 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = <span class="hljs-string">'does not exist'</span>;<br>    req.teamNameTo = <span class="hljs-string">'some other team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_TEAM_NOT_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="fe1a2cfd-225b-44e3-8a42-4fbf24f9b897" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when team name already in use
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#fe1a2cfd-225b-44e3-8a42-4fbf24f9b897 > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">2</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team1 = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> team2 = session.teams.all[<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team1.teamName;<br>    req.teamNameTo = team2.teamName;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_IN_USE);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="16ff01a0-fcce-4b42-af13-6ae1303e300a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#16ff01a0-fcce-4b42-af13-6ae1303e300a > .test-code.collapse">Code</button>
              <span class="test-duration fast">10 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">2</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = idUtility.generateSessionId();<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'some new name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="acfa373d-3617-44e6-bc80-b21f5a62fe63" class="suite has-tests has-passed">
            <h3 class="suite-title">team leader change</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="acfa373d-3617-44e6-bc80-b21f5a62fe63" class="suite-chart" width="50" height="50" data-total-passes="7" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">228 ms</li>
                <li class="suite-summary-item tests">7</li>
                <li class="suite-summary-item passed">7</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#acfa373d-3617-44e6-bc80-b21f5a62fe63-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="acfa373d-3617-44e6-bc80-b21f5a62fe63-test-list" class="list-group test-list collapse in">
                    <div id="a0f92751-5e28-4a49-9e66-62d2708ab149" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a0f92751-5e28-4a49-9e66-62d2708ab149 > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> teamLeaderUsername = team.teamLeader.username;<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> sm = messageFactory.restore(m,<br>                        messageConstants.SUCCESS);<br>                    sm.should.not.be.null();<br>                    team.teamLeader.username.should.not.equal(<br>                        teamLeaderUsername);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e4fa9706-734b-4291-b63c-6e8f057aaadc" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it team leader is the same
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e4fa9706-734b-4291-b63c-6e8f057aaadc > .test-code.collapse">Code</button>
              <span class="test-duration medium">51 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> teamLeaderUsername = team.teamLeader.username;<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> sm = messageFactory.restore(m,<br>                        messageConstants.SUCCESS);<br>                    sm.should.not.be.null();<br>                    team.teamLeader.username.should.equal(<br>                        teamLeaderUsername);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b370becf-a1b1-45b5-be71-f623cad8448f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b370becf-a1b1-45b5-be71-f623cad8448f > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            session.complete();<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b9882665-8f5d-414c-8d6d-6979b07d48ad" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when not the host
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b9882665-8f5d-414c-8d6d-6979b07d48ad > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = idUtility.generateParticipantId();<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_REQUEST_NOT_HOST);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6f5af460-a623-4e9d-a035-41d0ae662e61" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it team does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6f5af460-a623-4e9d-a035-41d0ae662e61 > .test-code.collapse">Code</button>
              <span class="test-duration fast">31 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = <span class="hljs-string">'does not exist team name'</span>;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_TEAM_NOT_FOUND);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="cbdb9a44-8527-492f-b81e-ca90a1e45801" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#cbdb9a44-8527-492f-b81e-ca90a1e45801 > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = idUtility.generateSessionId();<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            session.complete();<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="69ccbc4a-338d-42a2-a9d0-1a7c031ba126" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#69ccbc4a-338d-42a2-a9d0-1a7c031ba126 > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = <span class="hljs-string">'does not exist'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_CONTESTANT_NOT_FOUND);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="1b3711d7-2a8f-424c-b338-df5f114ff21e" class="suite has-tests has-passed">
            <h3 class="suite-title">settings update</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="1b3711d7-2a8f-424c-b338-df5f114ff21e" class="suite-chart" width="50" height="50" data-total-passes="9" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">127 ms</li>
                <li class="suite-summary-item tests">9</li>
                <li class="suite-summary-item passed">9</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#1b3711d7-2a8f-424c-b338-df5f114ff21e-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="1b3711d7-2a8f-424c-b338-df5f114ff21e-test-list" class="list-group test-list collapse in">
                    <div id="510f80e5-a4fb-4312-a253-46baf8f106a7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#510f80e5-a4fb-4312-a253-46baf8f106a7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="dd45674f-bacf-4ccc-b04d-af1164c1adc4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when not the host
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#dd45674f-bacf-4ccc-b04d-af1164c1adc4 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = idUtility.generateParticipantId();<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_REQUEST_NOT_HOST);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="931a48a9-a8a3-4d94-a660-22261189274c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#931a48a9-a8a3-4d94-a660-22261189274c > .test-code.collapse">Code</button>
              <span class="test-duration fast">9 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = idUtility.generateSessionId();<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="634ac348-1f8f-446f-9fe5-7edb9ee65c76" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the session name
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#634ac348-1f8f-446f-9fe5-7edb9ee65c76 > .test-code.collapse">Code</button>
              <span class="test-duration fast">11 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.sessionName.should.be.equal(<span class="hljs-string">'Test session X'</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="608fe6a7-f038-43f7-ab36-ba30e4644256" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the max contestants
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#608fe6a7-f038-43f7-ab36-ba30e4644256 > .test-code.collapse">Code</button>
              <span class="test-duration fast">19 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.maxContestants = <span class="hljs-number">6</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.maxContestants.should.equal(<span class="hljs-number">6</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="64084d77-f06b-49e9-8e9b-9c003c50a2f8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the max teams
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#64084d77-f06b-49e9-8e9b-9c003c50a2f8 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxTeams = <span class="hljs-number">5</span>;<br>s.teamSize = <span class="hljs-number">5</span>;<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.maxTeams = <span class="hljs-number">6</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.maxTeams.should.equal(<span class="hljs-number">6</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="01e9bfcf-e098-4d60-ae42-09edf5fb2fb6" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the team size
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#01e9bfcf-e098-4d60-ae42-09edf5fb2fb6 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxTeams = <span class="hljs-number">5</span>;<br>s.teamSize = <span class="hljs-number">5</span>;<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamSize = <span class="hljs-number">6</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.teamSize.should.equal(<span class="hljs-number">6</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6095ccf9-db70-4134-9c22-ebbadbaff757" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the session name, max teams and team size
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6095ccf9-db70-4134-9c22-ebbadbaff757 > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxTeams = <span class="hljs-number">5</span>;<br>s.teamSize = <span class="hljs-number">5</span>;<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    req.teamSize = <span class="hljs-number">6</span>;<br>    req.maxTeams = <span class="hljs-number">6</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.sessionName.should.be.equal(<span class="hljs-string">'Test session X'</span>);<br>        session.settings.teamSize.should.equal(<span class="hljs-number">6</span>);<br>        session.settings.maxTeams.should.equal(<span class="hljs-number">6</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="688d17e4-b6d4-4a41-9ef8-f5deeb3130f2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the session name and max contestants
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#688d17e4-b6d4-4a41-9ef8-f5deeb3130f2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    req.maxContestants = <span class="hljs-number">6</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.sessionName.should.be.equal(<span class="hljs-string">'Test session X'</span>);<br>        session.settings.maxContestants.should.equal(<span class="hljs-number">6</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="d1fc0fa7-1054-4d88-8b38-0525954f43b2" class="suite has-tests has-passed">
            <h3 class="suite-title">info request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="d1fc0fa7-1054-4d88-8b38-0525954f43b2" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">61 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#d1fc0fa7-1054-4d88-8b38-0525954f43b2-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="d1fc0fa7-1054-4d88-8b38-0525954f43b2-test-list" class="list-group test-list collapse in">
                    <div id="e9ab1e06-abf2-4071-8728-452bacec10bb" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for individuals contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e9ab1e06-abf2-4071-8728-452bacec10bb > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.participantId = hostId;<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        should(irm.info).not.be.null();<br>        should(irm.info.host).not.be.null();<br>        should(irm.info.contestant).be.null();<br>        should(irm.info.team).be.null();<br>        should(irm.info.session).not.be.null();<br>        should(irm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>        should(irm.info.isObserver).be.false();<br>        should(irm.info.isHost).be.true();<br>        should(irm.info.isContestant).be.false();<br>        should(irm.info.isSessionCompleted).be.false();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="abaf8dd7-ea16-4409-b007-e775c13af76a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#abaf8dd7-ea16-4409-b007-e775c13af76a > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = idUtility.generateSessionId();<br>    req.participantId = hostId;<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="337cdc66-99d3-4ac7-b2db-27a70ac61759" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#337cdc66-99d3-4ac7-b2db-27a70ac61759 > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.participantId = idUtility.generateParticipantId();<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_CONTESTANT_OR_HOST_NOT_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="23f15d5f-0939-4379-b94d-6eed7774954d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#23f15d5f-0939-4379-b94d-6eed7774954d > .test-code.collapse">Code</button>
              <span class="test-duration fast">12 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.participantId = hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="bdce767c-bb65-461c-b97e-aec1fdbcb6c6" class="suite has-tests has-passed">
            <h3 class="suite-title">on disconnect</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="bdce767c-bb65-461c-b97e-aec1fdbcb6c6" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">24 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#bdce767c-bb65-461c-b97e-aec1fdbcb6c6-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="bdce767c-bb65-461c-b97e-aec1fdbcb6c6-test-list" class="list-group test-list collapse in">
                    <div id="37267bc0-b075-4dd2-9d6d-41f4527b53bf" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#37267bc0-b075-4dd2-9d6d-41f4527b53bf > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> c = helper.createClient();<br>    helper.contestantJoin(c, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-comment">// listen for observer update</span><br>        c.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>            <span class="hljs-keyword">if</span> (om.gameState.host.disconnected) {<br>                done();<br>                c.discount();<br>            }<br>        });<br>        helper.clients = [];<br>        <span class="hljs-comment">// disconnect host</span><br>        hc.disconnect();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="642f81b7-d728-481a-b79e-9dc6509cd8b0" class="suite has-suites">
            <h3 class="suite-title">Buzzer server</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
        
              <section class="suite-wrap">
          <div id="0e946c29-aca7-4044-a276-0f8a855b4666" class="suite has-suites">
            <h3 class="suite-title">observer</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
        
              <section class="suite-wrap">
          <div id="36b53b81-d952-44fd-97bb-386bdeee369e" class="suite has-tests has-passed">
            <h3 class="suite-title">rejoin</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="36b53b81-d952-44fd-97bb-386bdeee369e" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">57 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#36b53b81-d952-44fd-97bb-386bdeee369e-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="36b53b81-d952-44fd-97bb-386bdeee369e-test-list" class="list-group test-list collapse in">
                    <div id="ac90434b-f7bc-4e21-a881-5862de83fc17" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid and subscribe observer to the observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ac90434b-f7bc-4e21-a881-5862de83fc17 > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.rejoinAs = constants.rejoinAs.OBSERVER;<br>    <span class="hljs-comment">// listen for observer update</span><br>    oc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{<br>        <span class="hljs-keyword">var</span> ob = messageFactory.restore(message, messageConstants.OBSERVER_UPDATE);<br>        ob.should.not.be.null();<br>        done();<br>    });<br>    oc.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{<br>        data.type.should.equal(messageConstants.SUCCESS);<br>        <span class="hljs-comment">// force observer update</span><br>        helper.forceObserveUpdate(rm.sessionId);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e26fc70f-4668-4fa6-ba30-e1566d6810bc" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e26fc70f-4668-4fa6-ba30-e1566d6810bc > .test-code.collapse">Code</button>
              <span class="test-duration fast">19 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> ob = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = idUtility.generateSessionId();<br>    rjm.rejoinAs = constants.rejoinAs.OBSERVER;<br>    ob.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="fc95206e-ff37-4467-9acd-5497400e5f08" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#fc95206e-ff37-4467-9acd-5497400e5f08 > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> ob = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = idUtility.generateSessionId();<br>    rjm.rejoinAs = constants.rejoinAs.OBSERVER;<br>    ob.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="e27756a7-5ecd-4830-acd0-5c353a958894" class="suite has-tests has-passed">
            <h3 class="suite-title">info request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="e27756a7-5ecd-4830-acd0-5c353a958894" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">73 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#e27756a7-5ecd-4830-acd0-5c353a958894-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="e27756a7-5ecd-4830-acd0-5c353a958894-test-list" class="list-group test-list collapse in">
                    <div id="e112aecc-9fe3-4ed6-9138-7f6d9d69bfc0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for individuals contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e112aecc-9fe3-4ed6-9138-7f6d9d69bfc0 > .test-code.collapse">Code</button>
              <span class="test-duration fast">19 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    oc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        should(irm.info).not.be.null();<br>        should(irm.info.host).be.null();<br>        should(irm.info.contestant).be.null();<br>        should(irm.info.team).be.null();<br>        should(irm.info.session).not.be.null();<br>        should(irm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>        should(irm.info.isObserver).be.true();<br>        should(irm.info.isHost).be.false();<br>        should(irm.info.isContestant).be.false();<br>        should(irm.info.isSessionCompleted).be.false();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="48cff24d-9c91-4f65-96f9-4ee5cc19d33d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#48cff24d-9c91-4f65-96f9-4ee5cc19d33d > .test-code.collapse">Code</button>
              <span class="test-duration fast">31 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = idUtility.generateSessionId();<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    oc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="f379b0d0-eca9-4ab7-9e81-fc8d7165da24" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f379b0d0-eca9-4ab7-9e81-fc8d7165da24 > .test-code.collapse">Code</button>
              <span class="test-duration fast">23 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    oc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
    </div>

    <footer>
      <div class="container">
        <p>Report generated by <a href="http://adamgruber.github.io/mochawesome/" target="_blank">mochawesome</a>.<br>Designed and built by <a href="https://github.com/adamgruber" target="_blank">adamgruber</a>. &copy;2017.</p>
      </div>
    </footer>

    <!-- Nav Menu -->
    <div class="nav-menu-wrap">
      <div class="menu-overlay close-menu"></div>
      <nav class="menu">
        <button class="nav-menu-btn close-menu"><i class="icon-failed"></i></button>
        <ul class="list-unstyled main-menu">
                <li class="nav-menu-item">
                <a href="#3ca22600-7a84-4a61-8ddd-3a74908d68b1" class="nav-menu-item-link">Buzzer server</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#b20e5d70-5a4a-43d2-8eda-d58682d1416d" class="nav-menu-item-link">contestant</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#1fe5a745-6f98-452d-8338-259ff0325451" class="nav-menu-item-link">join</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#987e6940-3f9b-4a5a-ac63-fdfa1f600c19" class="nav-menu-item-link has-passes">as individual</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#20e797f6-9bfb-492f-8170-95029dd06109" class="nav-menu-item-link has-passes">with teams</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#521b54e6-3750-4440-94c1-d4580867036f" class="nav-menu-item-link has-passes">when team leader selection method is RANDOM</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#7f285b66-cd09-4f8d-9f5f-361527f49242" class="nav-menu-item-link has-passes">when team selection method is PLAYER_CHOICE</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#63ec090d-5eac-43f9-9787-57b1f3542a39" class="nav-menu-item-link has-passes">rejoin</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#bf152556-835e-4d08-aeac-b3cd3a6712c7" class="nav-menu-item-link has-passes">on disconnect</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#954a0e8a-2a8d-419e-bcfb-d1fffb208d15" class="nav-menu-item-link has-passes">team leader inquiry response</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#e5aa77eb-e4c3-4231-9dfc-19c09062dc7a" class="nav-menu-item-link has-passes">buzzerPress</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#29711bb6-14a2-444e-8caf-86126de8f418" class="nav-menu-item-link has-passes">team name change request</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#cc3dea67-2b1e-4932-9d3c-3d8d85e4eaf1" class="nav-menu-item-link has-passes">info request</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#3bcd7ba9-4165-41d5-8fc6-7b4eda3cbcf8" class="nav-menu-item-link">Buzzer server</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#bec32104-0eaf-4e21-baf0-65f87215e746" class="nav-menu-item-link">host</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#f7351921-ed10-4e2e-b6ad-5acf49494805" class="nav-menu-item-link">create</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#64ebcd15-7d24-4c14-a9b5-29367d16e465" class="nav-menu-item-link has-passes">session</a>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#58ac46ff-d719-4e38-a855-d88638b654cd" class="nav-menu-item-link">rejoin</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#7c21a97b-fc33-4075-b126-0cff7fcfd597" class="nav-menu-item-link has-passes">session</a>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#22f5bbe1-0ecd-45d0-8a8a-13dd77b057d0" class="nav-menu-item-link">complete</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#d9f92852-3c05-406a-9431-36c813e7f245" class="nav-menu-item-link has-passes">session</a>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#4c36036f-b4ee-4d57-befa-490ced4a7b77" class="nav-menu-item-link">buzzer</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#2c9c542f-9887-4e45-92f5-a53e2da96717" class="nav-menu-item-link has-passes">action</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#6de77308-3c3b-4016-83f2-7a321264fd5d" class="nav-menu-item-link has-passes">when accepted</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#a30a415d-73e0-4670-bac8-3517558af539" class="nav-menu-item-link has-passes">when rejected</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#7bb15241-3798-4971-b80c-de855f5445c9" class="nav-menu-item-link has-passes">when reset</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#e834e9dc-2875-4ff2-b43b-606309288230" class="nav-menu-item-link has-passes">when disabled</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#59b42d25-2499-458a-ba73-68c479f76ea1" class="nav-menu-item-link has-passes">when enabled</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#5a4769d3-ae99-4341-bf70-eabf521afbb9" class="nav-menu-item-link has-passes">team name change</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#acfa373d-3617-44e6-bc80-b21f5a62fe63" class="nav-menu-item-link has-passes">team leader change</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#1b3711d7-2a8f-424c-b338-df5f114ff21e" class="nav-menu-item-link has-passes">settings update</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#d1fc0fa7-1054-4d88-8b38-0525954f43b2" class="nav-menu-item-link has-passes">info request</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#bdce767c-bb65-461c-b97e-aec1fdbcb6c6" class="nav-menu-item-link has-passes">on disconnect</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#642f81b7-d728-481a-b79e-9dc6509cd8b0" class="nav-menu-item-link">Buzzer server</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#0e946c29-aca7-4044-a276-0f8a855b4666" class="nav-menu-item-link">observer</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#36b53b81-d952-44fd-97bb-386bdeee369e" class="nav-menu-item-link has-passes">rejoin</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#e27756a7-5ecd-4830-acd0-5c353a958894" class="nav-menu-item-link has-passes">info request</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
        </ul>
      </nav>
    </div>

    <!-- Scripts -->
    <script src="js/vendor.js"></script>
    <script src="js/mochawesome.js"></script>
  </body>
</html>
