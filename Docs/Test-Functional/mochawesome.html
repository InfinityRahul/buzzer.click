<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mochawesome Report Card</title>
    
    <link rel="stylesheet" href="css/mochawesome.css">
  </head>
  <body>

    <!-- NAVBAR -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="report-info-cnt">
          <h1 class="report-title">buzzer.click</h1>
          <h3 class="report-date">Saturday, September 24 2016, 10:39am</h3>
        </div>
        <div class="nav-right">
          <div class="quick-summary-cnt">
              <ul class="list-unstyled quick-summary">
                <li class="qs-item summary-duration" title="Duration">4.332<span>S</span></li>
                <li class="qs-item summary-suites" title="Suites">32</li>
                <li class="qs-item summary-tests" title="Tests">108</li>
                <li class="qs-item summary-passes" title="Passed" data-filter="passed">108</li>
                <li class="qs-item summary-failures" title="Failed" data-filter="failed">0</li>
                <li class="qs-item summary-pending" title="Pending" data-filter="pending">0</li>
              </ul>          </div>
          <button class="nav-menu-btn open-menu"><i class="icon-menu"></i></button>
        </div>
      </div>
    </div>

    <!-- Report Summary -->
    <div class="summary">
      <div class="container">
          <div class="row">
            <div class="summary-col summary-duration">
              <h1 class="summary-count">4.332<span>S</span></h1>
              <h4 class="summary-label">S</h4>
            </div>
            <div class="summary-col summary-suites" title="Suites">
              <h1 class="summary-count">32</h1>
              <h4 class="summary-label">Suites</h4>
            </div>
            <div class="summary-col summary-tests" title="Tests">
              <h1 class="summary-count">108</h1>
              <h4 class="summary-label">Tests</h4>
            </div>
            <div class="summary-col summary-passes" data-filter="passed" title="Passed">
              <h1 class="summary-count">108</h1>
              <h4 class="summary-label">Passed</h4>
            </div>
            <div class="summary-col summary-failures" data-filter="failed" title="Failed">
              <h1 class="summary-count">0</h1>
              <h4 class="summary-label">Failed</h4>
            </div>
            <div class="summary-col summary-pending" data-filter="pending" title="Pending">
              <h1 class="summary-count">0</h1>
              <h4 class="summary-label">Pending</h4>
            </div>
          </div>      </div>
    </div>
    <div class="statusbar">
      <div class="container">
          <div class="row">
            <div class="status-item status-item-pending-pct">0% Pending</div>
            <div class="status-item status-item-passing-pct success">100% Passing</div>
          </div>      </div>
    </div>

    <!-- Suites -->
    <div class="details container">
            <section class="suite-wrap">
          <div id="4fff25ad-77a6-486e-bf63-20006cd377ac" class="suite has-suites">
            <h3 class="suite-title">Buzzer server</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
        
              <section class="suite-wrap">
          <div id="b01895c9-7888-43ef-acd2-f29c4d46570e" class="suite has-suites">
            <h3 class="suite-title">contestant</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
        
              <section class="suite-wrap">
          <div id="b61a8261-f463-472a-a6cb-1866904d95d6" class="suite has-suites">
            <h3 class="suite-title">join</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
        
              <section class="suite-wrap">
          <div id="45ea8236-15bf-425d-877c-89fc1f7fb7ef" class="suite has-tests has-passed">
            <h3 class="suite-title">as individual</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="45ea8236-15bf-425d-877c-89fc1f7fb7ef" class="suite-chart" width="50" height="50" data-total-passes="8" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">552 ms</li>
                <li class="suite-summary-item tests">8</li>
                <li class="suite-summary-item passed">8</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#45ea8236-15bf-425d-877c-89fc1f7fb7ef-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="45ea8236-15bf-425d-877c-89fc1f7fb7ef-test-list" class="list-group test-list collapse in">
                    <div id="8217731a-566c-4f3a-9f6b-a411e7551d36" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8217731a-566c-4f3a-9f6b-a411e7551d36 > .test-code.collapse">Code</button>
              <span class="test-duration slow">163 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        rm.contestantId.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3e1113e7-5763-45b0-84b4-a4b0153b774f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3e1113e7-5763-45b0-84b4-a4b0153b774f > .test-code.collapse">Code</button>
              <span class="test-duration medium">42 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        om.gameState.contestants.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.contestants[<span class="hljs-number">0</span>].username.should.equal(<br>            <span class="hljs-string">'Test Person'</span>);<br>        done();<br>    });<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'Test Person'</span>, rm.sessionId);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e469257f-4502-404e-9241-e7447277e503" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e469257f-4502-404e-9241-e7447277e503 > .test-code.collapse">Code</button>
              <span class="test-duration slow">79 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">responseMessage</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rm1 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm1.sessionId = responseMessage.sessionId;<br>    rm1.username = <span class="hljs-string">'TP1'</span>;<br>    <span class="hljs-keyword">var</span> rm2 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm2.sessionId = responseMessage.sessionId;<br>    rm2.username = <span class="hljs-string">'TP2'</span>;<br>    <span class="hljs-comment">// Contestant 1 join</span><br>    cc1.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm1, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m1</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm1 = messageFactory.restore(m1, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm1.wasSuccessful.should.be.true();<br>        <span class="hljs-comment">// Contestant 2 join</span><br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm2,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m2</span>) </span>{<br>                <span class="hljs-keyword">var</span> rm2 = messageFactory.restore(m2,<br>                    messageConstants.CONTESTANT_JOIN_RESPONSE<br>                );<br>                rm2.wasSuccessful.should.be.false();<br>                rm2.failedRequestReason.should.equal(<br>                    constants.messages.MAXIMUM_SESSION_SIZED_REACHED<br>                );<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="bb239809-6b75-43ce-a14b-0a72a3e3fcb9" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to contestant room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#bb239809-6b75-43ce-a14b-0a72a3e3fcb9 > .test-code.collapse">Code</button>
              <span class="test-duration medium">44 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for Contestant update</span><br>    cc.on(<span class="hljs-string">'testMessage'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        m.should.equal(<span class="hljs-string">'test'</span>);<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.sendMessageToContestants(sessionId,<br>            <span class="hljs-string">'testMessage'</span>, <span class="hljs-string">'test'</span>);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="16c038a2-4be7-4960-95ed-6b5c57b93401" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#16c038a2-4be7-4960-95ed-6b5c57b93401 > .test-code.collapse">Code</button>
              <span class="test-duration medium">66 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    cc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-comment">// Hack: this event may fire twice</span><br>        helper.closeClients();<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.forceObserveUpdate(sessionId);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="80cb27ae-6323-4981-bd17-12f11d2fc314" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#80cb27ae-6323-4981-bd17-12f11d2fc314 > .test-code.collapse">Code</button>
              <span class="test-duration medium">44 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = idUtility.generateSessionId();<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c834e4c8-d5fe-4353-99b3-60160ef78c28" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c834e4c8-d5fe-4353-99b3-60160ef78c28 > .test-code.collapse">Code</button>
              <span class="test-duration medium">55 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4f99842f-7f8b-4315-a60d-bb4f1a4ec8e0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when username is taken
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4f99842f-7f8b-4315-a60d-bb4f1a4ec8e0 > .test-code.collapse">Code</button>
              <span class="test-duration medium">59 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>        <span class="hljs-comment">// Join</span><br>        <span class="hljs-keyword">var</span> rm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>        rm.sessionId = sessionId;<br>        rm.username = <span class="hljs-string">'username'</span>;<br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{<br>                <span class="hljs-keyword">var</span> responseMessage = messageFactory.restore(<br>                    message, messageConstants.CONTESTANT_JOIN_RESPONSE<br>                );<br>                responseMessage.should.not.be.null();<br>                responseMessage.wasSuccessful.should.be.false();<br>                responseMessage.failedRequestReason.should.equal(<br>                    constants.messages.USERNAME_TAKEN);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="7f6b3ea6-45f3-42db-8573-31847450fab0" class="suite has-suites has-tests has-passed">
            <h3 class="suite-title">with teams</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="7f6b3ea6-45f3-42db-8573-31847450fab0" class="suite-chart" width="50" height="50" data-total-passes="10" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">439 ms</li>
                <li class="suite-summary-item tests">10</li>
                <li class="suite-summary-item passed">10</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#7f6b3ea6-45f3-42db-8573-31847450fab0-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="7f6b3ea6-45f3-42db-8573-31847450fab0-test-list" class="list-group test-list collapse in">
                    <div id="b5019d21-617d-4792-9ecc-2edc0a5ea07c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b5019d21-617d-4792-9ecc-2edc0a5ea07c > .test-code.collapse">Code</button>
              <span class="test-duration medium">40 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        rm.contestantId.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="09e57cb8-fadd-4ba3-88e6-f336eb28d8bb" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#09e57cb8-fadd-4ba3-88e6-f336eb28d8bb > .test-code.collapse">Code</button>
              <span class="test-duration medium">53 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        om.gameState.contestants.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.contestants[<span class="hljs-number">0</span>].username.should.equal(<br>            <span class="hljs-string">'Test Person'</span>);<br>        om.gameState.teams.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.teams[<span class="hljs-number">0</span>].contestants.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.teams[<span class="hljs-number">0</span>].contestants[<span class="hljs-number">0</span>].username.should.equal(<br>            <span class="hljs-string">'Test Person'</span>);<br>        done();<br>    });<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'Test Person'</span>, rm.sessionId);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="736d884d-15d0-49e0-b775-4b7b5d976471" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#736d884d-15d0-49e0-b775-4b7b5d976471 > .test-code.collapse">Code</button>
              <span class="test-duration medium">57 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">responseMessage</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rm1 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm1.sessionId = responseMessage.sessionId;<br>    rm1.username = <span class="hljs-string">'TP1'</span>;<br>    <span class="hljs-keyword">var</span> rm2 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm2.sessionId = responseMessage.sessionId;<br>    rm2.username = <span class="hljs-string">'TP2'</span>;<br>    <span class="hljs-comment">// Contestant 1 join</span><br>    cc1.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm1, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m1</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm1 = messageFactory.restore(m1, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm1.wasSuccessful.should.be.true();<br>        <span class="hljs-comment">// Contestant 2 join</span><br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm2,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m2</span>) </span>{<br>                <span class="hljs-keyword">var</span> rm2 = messageFactory.restore(m2,<br>                    messageConstants.CONTESTANT_JOIN_RESPONSE<br>                );<br>                rm2.wasSuccessful.should.be.false();<br>                rm2.failedRequestReason.should.equal(<br>                    constants.messages.TEAMS_ARE_FULL<br>                );<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="612eb72c-78e9-4d77-af18-f3ba52fadbb7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to contestant room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#612eb72c-78e9-4d77-af18-f3ba52fadbb7 > .test-code.collapse">Code</button>
              <span class="test-duration medium">45 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for Contestant update</span><br>    cc.on(<span class="hljs-string">'testMessage'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        m.should.equal(<span class="hljs-string">'test'</span>);<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.sendMessageToContestants(sessionId,<br>            <span class="hljs-string">'testMessage'</span>, <span class="hljs-string">'test'</span>);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b93414c8-c75e-4e58-8a4e-64d3ed269e28" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b93414c8-c75e-4e58-8a4e-64d3ed269e28 > .test-code.collapse">Code</button>
              <span class="test-duration medium">40 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    cc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-comment">// Hack: this event may fire twice</span><br>        helper.closeClients();<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.forceObserveUpdate(sessionId);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="784d4cc2-331c-4aa6-b545-af83aff70612" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#784d4cc2-331c-4aa6-b545-af83aff70612 > .test-code.collapse">Code</button>
              <span class="test-duration medium">43 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = idUtility.generateSessionId();<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a2f762dc-dc70-4d6e-8479-9ef5b5c04c3e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a2f762dc-dc70-4d6e-8479-9ef5b5c04c3e > .test-code.collapse">Code</button>
              <span class="test-duration medium">46 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c46ea768-ffc0-4cb2-afed-a1cbfd6b356e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when username is taken
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c46ea768-ffc0-4cb2-afed-a1cbfd6b356e > .test-code.collapse">Code</button>
              <span class="test-duration medium">53 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>        <span class="hljs-comment">// Join</span><br>        <span class="hljs-keyword">var</span> rm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>        rm.sessionId = sessionId;<br>        rm.username = <span class="hljs-string">'username'</span>;<br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{<br>                <span class="hljs-keyword">var</span> responseMessage = messageFactory.restore(<br>                    message, messageConstants.CONTESTANT_JOIN_RESPONSE<br>                );<br>                responseMessage.should.not.be.null();<br>                responseMessage.wasSuccessful.should.be.false();<br>                responseMessage.failedRequestReason.should.equal(<br>                    constants.messages.USERNAME_TAKEN);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4c724c39-7bbb-4e45-a320-5fcd005d49b6" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should inquire about team leader position
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4c724c39-7bbb-4e45-a320-5fcd005d49b6 > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="91a5b82e-ec27-49a6-848e-355811a59b12" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not inquire about team leader position
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#91a5b82e-ec27-49a6-848e-355811a59b12 > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.false();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
              <section class="suite-wrap">
          <div id="d929a4fa-0e09-4991-8de0-97c0ec925fef" class="suite has-tests has-passed">
            <h3 class="suite-title">when team leader selection method is RANDOM</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="d929a4fa-0e09-4991-8de0-97c0ec925fef" class="suite-chart" width="50" height="50" data-total-passes="2" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">112 ms</li>
                <li class="suite-summary-item tests">2</li>
                <li class="suite-summary-item passed">2</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#d929a4fa-0e09-4991-8de0-97c0ec925fef-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="d929a4fa-0e09-4991-8de0-97c0ec925fef-test-list" class="list-group test-list collapse in">
                    <div id="b8971455-6d23-4988-8799-7f167cf5c138" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should fulfill team leader position when team is full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b8971455-6d23-4988-8799-7f167cf5c138 > .test-code.collapse">Code</button>
              <span class="test-duration medium">62 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(cc2, <span class="hljs-string">'c2'</span>, sessionId,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>                <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>                t.teamLeader.username.should.equalOneOf(<br>                    <span class="hljs-string">'c1'</span>, <span class="hljs-string">'c2'</span>);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="039e09e8-cbd6-40e2-8177-1d09d9eb4ba5" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not fulfill team leader position when team is not full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#039e09e8-cbd6-40e2-8177-1d09d9eb4ba5 > .test-code.collapse">Code</button>
              <span class="test-duration medium">50 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"><br>                        done</span>) </span>{<br>                        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>                        s.hasTeams = <span class="hljs-literal">true</span>;<br>                        s.maxTeams = <span class="hljs-number">1</span>;<br>                        s.teamSize = <span class="hljs-number">3</span>;<br>                        s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br>                        <span class="hljs-keyword">var</span> hc = helper.createClient();<br>                        helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                            <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>                            <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>                            <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>                            helper.contestantJoin(cc1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>                                helper.contestantJoin(cc2, <span class="hljs-string">'c2'</span>, sessionId,<br>                                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>                                        <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                                        <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>                                        should(t.teamLeader).be.null();<br>                                        done();<br>                                    });<br>                            });<br>                        });</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="17c7ce29-953e-4dd6-be25-c30acec20fac" class="suite has-tests has-passed">
            <h3 class="suite-title">team leader inquiry response</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="17c7ce29-953e-4dd6-be25-c30acec20fac" class="suite-chart" width="50" height="50" data-total-passes="6" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">261 ms</li>
                <li class="suite-summary-item tests">6</li>
                <li class="suite-summary-item passed">6</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#17c7ce29-953e-4dd6-be25-c30acec20fac-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="17c7ce29-953e-4dd6-be25-c30acec20fac-test-list" class="list-group test-list collapse in">
                    <div id="8ab826c1-aa32-4ca0-91c7-885d09f969b4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should set team leader
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8ab826c1-aa32-4ca0-91c7-885d09f969b4 > .test-code.collapse">Code</button>
              <span class="test-duration medium">40 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>                sm.should.not.be.null();<br>                <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>                t.teamLeader.username.should.equal(<span class="hljs-string">'Test Person'</span>);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ec32fdab-6d68-44f7-927b-59c7aebf3462" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not set team leader
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ec32fdab-6d68-44f7-927b-59c7aebf3462 > .test-code.collapse">Code</button>
              <span class="test-duration medium">42 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">false</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>                sm.should.not.be.null();<br>                <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>                should(t.teamLeader).be.null();<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="67b2b01b-2d94-46e9-aaeb-e2a2d447b88a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#67b2b01b-2d94-46e9-aaeb-e2a2d447b88a > .test-code.collapse">Code</button>
              <span class="test-duration fast">34 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = idUtility.generateSessionId();<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>                rm.should.not.be.null();<br>                rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b391cb92-c496-4d93-b7c8-1c1273f25b0a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b391cb92-c496-4d93-b7c8-1c1273f25b0a > .test-code.collapse">Code</button>
              <span class="test-duration medium">40 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        helper.getLatestSession().complete();<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>                rm.should.not.be.null();<br>                rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2bd39f40-32b7-45a9-a985-77f14cfa42c7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2bd39f40-32b7-45a9-a985-77f14cfa42c7 > .test-code.collapse">Code</button>
              <span class="test-duration medium">38 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = idUtility.generateParticipantId();<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                em.should.not.be.null();<br>                em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_LEADER_RESPONSE_NOT_CONTESTANT);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="37d87e3e-ce25-4788-a547-c1ef3888bb60" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not set team leader when position fulfilled (aka race condition)
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#37d87e3e-ce25-4788-a547-c1ef3888bb60 > .test-code.collapse">Code</button>
              <span class="test-duration medium">67 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc1.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        <span class="hljs-keyword">var</span> cc1Id = rm.contestantId;<br>        helper.contestantJoin(cc2, <span class="hljs-string">'Test Person2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            rm.enquireForTeamLeaderPosition.should.be.true();<br>            rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>            rqm.sessionId = sessionId;<br>            rqm.contestantId = rm.contestantId;<br>            rqm.decision = <span class="hljs-literal">true</span>;<br>            cc2.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE,<br>                rqm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> sm = messageFactory.restore(m,<br>                        messageConstants.SUCCESS);<br>                    sm.should.not.be.null();<br>                    rqm.contestantId = cc1Id;<br>                    cc1.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE,<br>                        rqm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            <span class="hljs-keyword">var</span> em = messageFactory.restore(<br>                                m, messageConstants.ERROR<br>                            );<br>                            em.should.not.be.null();<br>                            em.error.should.equal(constants<br>                                .messages.COULD_NOT_PROMOTE_TO_TEAM_LEADER_POSITION_FULFILLED<br>                            );<br>                            done();<br>                        });<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="ae34a330-b74d-4315-b852-14ff52858718" class="suite has-tests has-passed">
            <h3 class="suite-title">buzzerPress</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="ae34a330-b74d-4315-b852-14ff52858718" class="suite-chart" width="50" height="50" data-total-passes="5" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">236 ms</li>
                <li class="suite-summary-item tests">5</li>
                <li class="suite-summary-item passed">5</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#ae34a330-b74d-4315-b852-14ff52858718-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="ae34a330-b74d-4315-b852-14ff52858718-test-list" class="list-group test-list collapse in">
                    <div id="bfe73e84-ddc1-4c69-b343-d1975fe6c8f7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when state is ready
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#bfe73e84-ddc1-4c69-b343-d1975fe6c8f7 > .test-code.collapse">Code</button>
              <span class="test-duration medium">57 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9b4e7de2-abe7-4619-b3e7-080d17ed6888" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should ignore when state is not ready
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9b4e7de2-abe7-4619-b3e7-080d17ed6888 > .test-code.collapse">Code</button>
              <span class="test-duration medium">63 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'username1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc1.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>            helper.contestantJoin(cc2, <span class="hljs-string">'username2'</span>, sessionId,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                    <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                        messageConstants.CONTESTANT_BUZZER_PRESS<br>                    );<br>                    bpm.sessionId = sessionId;<br>                    bpm.contestantId = rm.contestantId;<br>                    cc1.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                        bpm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            <span class="hljs-keyword">var</span> em = messageFactory.restore(<br>                                m, messageConstants.ERROR<br>                            );<br>                            em.should.not.be.null();<br>                            em.error.should.equal(constants<br>                                .messages.BUZZER_PRESS_NOT_ACCEPTED<br>                            );<br>                            done();<br>                        });<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="57d9ef47-9d30-4bb0-83bd-7c6f60bd77ca" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#57d9ef47-9d30-4bb0-83bd-7c6f60bd77ca > .test-code.collapse">Code</button>
              <span class="test-duration medium">40 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        helper.getLatestSession().complete();<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.ERROR);<br>            sm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2da8226f-a93b-4396-9cb2-8574057658ce" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2da8226f-a93b-4396-9cb2-8574057658ce > .test-code.collapse">Code</button>
              <span class="test-duration medium">44 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = idUtility.generateSessionId();<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.ERROR);<br>            sm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3501a254-5df3-46a2-9bd5-bdedc83da3fa" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3501a254-5df3-46a2-9bd5-bdedc83da3fa > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = idUtility.generateParticipantId();<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.ERROR);<br>            sm.error.should.equal(constants.messages.COULD_NOT_ACCEPT_BUZZER_PRESS_NOT_CONTESTANT);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="3b1ac800-2cf3-4499-9163-f1904f33705a" class="suite has-tests has-passed">
            <h3 class="suite-title">team name change request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="3b1ac800-2cf3-4499-9163-f1904f33705a" class="suite-chart" width="50" height="50" data-total-passes="10" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">337 ms</li>
                <li class="suite-summary-item tests">10</li>
                <li class="suite-summary-item passed">10</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#3b1ac800-2cf3-4499-9163-f1904f33705a-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="3b1ac800-2cf3-4499-9163-f1904f33705a-test-list" class="list-group test-list collapse in">
                    <div id="9544cf8d-d9e0-4bab-a3fe-56ccfe2d0e35" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9544cf8d-d9e0-4bab-a3fe-56ccfe2d0e35 > .test-code.collapse">Code</button>
              <span class="test-duration medium">44 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>                sm.should.not.be.null();<br>                <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>                session.teams.all[<span class="hljs-number">0</span>].teamName.should.equal(<br>                    <span class="hljs-string">'New team name'</span>);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="504da26b-65b5-4a68-b338-7f19d25e412f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when team name is already used
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#504da26b-65b5-4a68-b338-7f19d25e412f > .test-code.collapse">Code</button>
              <span class="test-duration fast">34 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">2</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        <span class="hljs-keyword">var</span> contestant = session.contestants[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">var</span> team = session.teams.getByContestant(contestant);<br>        <span class="hljs-keyword">var</span> otherTeam = session.teams.all.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) </span>{<br>            <span class="hljs-keyword">return</span> t !== team;<br>        })[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = otherTeam.teamName;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                em.should.not.be.null();<br>                em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_IN_USE);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="35b3dead-d8d5-4df1-a964-642039e634bb" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when team name does not change
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#35b3dead-d8d5-4df1-a964-642039e634bb > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        <span class="hljs-keyword">var</span> contestant = session.contestants[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">var</span> team = session.teams.getByContestant(contestant);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = team.teamName;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>                sm.should.not.be.null();<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="18822064-ea7f-4a79-8180-6a9adf8c7806" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when not team leader
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#18822064-ea7f-4a79-8180-6a9adf8c7806 > .test-code.collapse">Code</button>
              <span class="test-duration fast">28 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                em.should.not.be.null();<br>                em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_REQUEST_NOT_CONTESTANT_TEAM_OR_TEAM_LEADER);<br>                <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>                session.teams.all[<span class="hljs-number">0</span>].teamName.should.not.equal(<br>                    <span class="hljs-string">'New team name'</span>);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a4769af9-bc7f-4704-ae69-0937279501cd" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a4769af9-bc7f-4704-ae69-0937279501cd > .test-code.collapse">Code</button>
              <span class="test-duration fast">34 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = idUtility.generateSessionId();<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                em.should.not.be.null();<br>                em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="22ccdc6e-d8d7-45f6-bb3f-b65412f476f0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#22ccdc6e-d8d7-45f6-bb3f-b65412f476f0 > .test-code.collapse">Code</button>
              <span class="test-duration medium">42 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = idUtility.generateParticipantId();<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                em.should.not.be.null();<br>                em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_REQUEST_NOT_CONTESTANT_TEAM_OR_TEAM_LEADER);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e6936553-827d-479f-ac1a-b4ff8cdf48c1" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e6936553-827d-479f-ac1a-b4ff8cdf48c1 > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.complete();<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                em.should.not.be.null();<br>                em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="18b66b04-48ec-4b56-91e0-f1a28c3f851d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when setting do not allow it
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#18b66b04-48ec-4b56-91e0-f1a28c3f851d > .test-code.collapse">Code</button>
              <span class="test-duration fast">33 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.MANUAL;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                em.should.not.be.null();<br>                em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_SETTINGS_NOT_ALLOW);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="085e8625-5b24-43b5-963c-d15215683de4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when team name contains profanity
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#085e8625-5b24-43b5-963c-d15215683de4 > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'The word penis is funny #YOLO'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                em.should.not.be.null();<br>                em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_CONTAINS_PROFANITY);<br>                done();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d398659e-bd18-4eaa-a60b-ab05226f5784" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers when accepted
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d398659e-bd18-4eaa-a60b-ab05226f5784 > .test-code.collapse">Code</button>
              <span class="test-duration fast">34 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.teams &amp;&amp; om.gameState.teams.length) {<br>            <span class="hljs-keyword">if</span> (om.gameState.teams[<span class="hljs-number">0</span>].teamName === <span class="hljs-string">'New team name'</span>) {<br>                done();<br>            }<br>        }<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>                sm.should.not.be.null();<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="46df14ce-9435-41b4-b3a2-867b8b54cb27" class="suite has-tests has-passed">
            <h3 class="suite-title">info request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="46df14ce-9435-41b4-b3a2-867b8b54cb27" class="suite-chart" width="50" height="50" data-total-passes="5" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">160 ms</li>
                <li class="suite-summary-item tests">5</li>
                <li class="suite-summary-item passed">5</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#46df14ce-9435-41b4-b3a2-867b8b54cb27-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="46df14ce-9435-41b4-b3a2-867b8b54cb27-test-list" class="list-group test-list collapse in">
                    <div id="82027d03-c6b2-47cb-b690-c8e4766cf730" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for individuals contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#82027d03-c6b2-47cb-b690-c8e4766cf730 > .test-code.collapse">Code</button>
              <span class="test-duration fast">28 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = contestantId;<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>            irm.should.not.be.null();<br>            should(irm.info).not.be.null();<br>            should(irm.info.host).be.null();<br>            should(irm.info.contestant).not.be.null();<br>            should(irm.info.team).be.null();<br>            should(irm.info.session).not.be.null();<br>            should(irm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>            should(irm.info.isObserver).be.false();<br>            should(irm.info.isHost).be.false();<br>            should(irm.info.isContestant).be.true();<br>            should(irm.info.isSessionCompleted).be.false();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e251e964-b8a5-457a-a50f-6028c3785319" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for teams contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e251e964-b8a5-457a-a50f-6028c3785319 > .test-code.collapse">Code</button>
              <span class="test-duration fast">35 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">3</span>;<br>s.teamSize = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = contestantId;<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>            rm.should.not.be.null();<br>            should(rm.info).not.be.null();<br>            should(rm.info.host).be.null();<br>            should(rm.info.contestant).not.be.null();<br>            should(rm.info.team).not.be.null();<br>            should(rm.info.session).not.be.null();<br>            should(rm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>            should(rm.info.isObserver).be.false();<br>            should(rm.info.isHost).be.false();<br>            should(rm.info.isContestant).be.true();<br>            should(rm.info.isSessionCompleted).be.false();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4469b62e-1c3f-4162-82bf-81c79baf3c8a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4469b62e-1c3f-4162-82bf-81c79baf3c8a > .test-code.collapse">Code</button>
              <span class="test-duration medium">39 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = idUtility.generateSessionId();<br>        req.participantId = contestantId;<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>            em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="f3415f22-d700-43eb-816f-ae82e4cde824" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f3415f22-d700-43eb-816f-ae82e4cde824 > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = idUtility.generateParticipantId();<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>            em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_CONTESTANT_OR_HOST_NOT_FOUND);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ba7bbf68-9004-433c-9cfd-247065df0a73" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ba7bbf68-9004-433c-9cfd-247065df0a73 > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = contestantId;<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.complete();<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>            irm.should.not.be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="2905ed82-741e-4444-a3fb-ef6d02fb1fb9" class="suite has-suites">
            <h3 class="suite-title">Buzzer server</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="a103ad79-67f7-4dcd-9241-b9cd7d2339ff" class="suite has-suites">
            <h3 class="suite-title">host</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="23776fca-5625-4874-b3f7-12dfb0006a22" class="suite has-suites">
            <h3 class="suite-title">create</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="fa3d1a20-9242-4428-9256-567c482b8b02" class="suite has-tests has-passed">
            <h3 class="suite-title">session</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="fa3d1a20-9242-4428-9256-567c482b8b02" class="suite-chart" width="50" height="50" data-total-passes="2" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">28 ms</li>
                <li class="suite-summary-item tests">2</li>
                <li class="suite-summary-item passed">2</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#fa3d1a20-9242-4428-9256-567c482b8b02-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="fa3d1a20-9242-4428-9256-567c482b8b02-test-list" class="list-group test-list collapse in">
                    <div id="837415bb-5a45-4ad8-b70d-3783dac099ca" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid and create a session
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#837415bb-5a45-4ad8-b70d-3783dac099ca > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> csm = messageFactory.create(messageConstants.CREATE_SESSION);<br>csm.settings = s;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>c.emit(messageConstants.CREATE_SESSION, csm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    m.should.be.Object();<br>    m.type.should.equal(messageConstants.CREATE_SESSION_RESPONSE);<br>    helper.sessions.all.length.should.equal(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    <span class="hljs-keyword">var</span> rsm = messageFactory.restore(m, messageConstants.CREATE_SESSION_RESPONSE);<br>    rsm.sessionId.should.equal(session.id);<br>    rsm.hostId.should.equal(session.host.id);<br>    done();<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ba97af1a-a590-45ab-953c-a02b9a6635ba" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe host to the observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ba97af1a-a590-45ab-953c-a02b9a6635ba > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br><span class="hljs-comment">// listen for observer update</span><br>c.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>    om.should.not.be.null();<br>    done();<br>});<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    rm.should.not.be.null();<br>    <span class="hljs-comment">// force observer update</span><br>    helper.forceObserveUpdate(rm.sessionId);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="cbf6f4e8-61af-4535-bbc0-e17e10136927" class="suite has-suites">
            <h3 class="suite-title">rejoin</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="370bdc0e-54de-4a1d-9e9d-7e0770085aeb" class="suite has-tests has-passed">
            <h3 class="suite-title">session</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="370bdc0e-54de-4a1d-9e9d-7e0770085aeb" class="suite-chart" width="50" height="50" data-total-passes="5" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">150 ms</li>
                <li class="suite-summary-item tests">5</li>
                <li class="suite-summary-item passed">5</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#370bdc0e-54de-4a1d-9e9d-7e0770085aeb-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="370bdc0e-54de-4a1d-9e9d-7e0770085aeb-test-list" class="list-group test-list collapse in">
                    <div id="683ec98e-6bc7-4b88-b0c6-f0ff81787230" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#683ec98e-6bc7-4b88-b0c6-f0ff81787230 > .test-code.collapse">Code</button>
              <span class="test-duration fast">29 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{<br>        data.type.should.equal(messageConstants.SUCCESS);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c7d074c3-3d32-41a9-96b3-88db636e7f93" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe host to observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c7d074c3-3d32-41a9-96b3-88db636e7f93 > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    <span class="hljs-comment">// listen for observer update</span><br>    c.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{<br>        data.type.should.equal(messageConstants.SUCCESS);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a9ee1d91-dbe1-4da3-94ab-d1c4bd0a0d68" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when host id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a9ee1d91-dbe1-4da3-94ab-d1c4bd0a0d68 > .test-code.collapse">Code</button>
              <span class="test-duration fast">23 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = idUtility.generateParticipantId();<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_REJOIN_NOT_HOST);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="fb8a00c0-ed66-4e09-b9ea-93b897462684" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#fb8a00c0-ed66-4e09-b9ea-93b897462684 > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = idUtility.generateSessionId();<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="37532fc2-9202-41f3-b811-a8460c685343" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#37532fc2-9202-41f3-b811-a8460c685343 > .test-code.collapse">Code</button>
              <span class="test-duration medium">47 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="e1a9c1cf-da69-4711-b470-e292464ee3ca" class="suite has-suites">
            <h3 class="suite-title">complete</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="7c6350fb-5168-4326-8d1b-253c1d1ff143" class="suite has-tests has-passed">
            <h3 class="suite-title">session</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="7c6350fb-5168-4326-8d1b-253c1d1ff143" class="suite-chart" width="50" height="50" data-total-passes="5" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">75 ms</li>
                <li class="suite-summary-item tests">5</li>
                <li class="suite-summary-item passed">5</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#7c6350fb-5168-4326-8d1b-253c1d1ff143-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="7c6350fb-5168-4326-8d1b-253c1d1ff143-test-list" class="list-group test-list collapse in">
                    <div id="9aa4c5d6-c79c-4ace-b3a2-bb461335e591" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9aa4c5d6-c79c-4ace-b3a2-bb461335e591 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = rm.hostId;<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        rm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d6e1eb45-4ac9-4541-bbcb-9d04daa91069" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when host id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d6e1eb45-4ac9-4541-bbcb-9d04daa91069 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = idUtility.generateParticipantId();<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.COULD_NOT_COMPLETE_SESSION_NOT_HOST);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="11ad4899-0c40-489c-ba04-9a3189cae665" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#11ad4899-0c40-489c-ba04-9a3189cae665 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = idUtility.generateSessionId();<br>    scm.hostId = rm.hostId;<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="560d7883-c118-4c3b-8ed0-16b9a97f32ed" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is already completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#560d7883-c118-4c3b-8ed0-16b9a97f32ed > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.getLatestSession().complete();<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = rm.hostId;<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="852606b9-7bcb-4632-9fa6-e706f9921b93" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should notify observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#852606b9-7bcb-4632-9fa6-e706f9921b93 > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = rm.hostId;<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        rm.should.not.be.null();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="77eefba0-04dd-4fb0-8416-1983ac700153" class="suite has-suites">
            <h3 class="suite-title">buzzer</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="13141612-a78a-4393-8031-5ef1e54aa7e2" class="suite has-suites has-tests has-passed">
            <h3 class="suite-title">action</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="13141612-a78a-4393-8031-5ef1e54aa7e2" class="suite-chart" width="50" height="50" data-total-passes="12" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">346 ms</li>
                <li class="suite-summary-item tests">12</li>
                <li class="suite-summary-item passed">12</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#13141612-a78a-4393-8031-5ef1e54aa7e2-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="13141612-a78a-4393-8031-5ef1e54aa7e2-test-list" class="list-group test-list collapse in">
                    <div id="2fddccd6-283e-47b0-b1a2-4266c2a0baba" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow accept when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2fddccd6-283e-47b0-b1a2-4266c2a0baba > .test-code.collapse">Code</button>
              <span class="test-duration medium">39 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                messageFactory.restore(m, messageConstants.SUCCESS);<br>                helper.getLatestSession().currentState.should<br>                    .equal(constants.gameStates.PENDING);<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> sm = messageFactory.restore(<br>                            rm, messageConstants.SUCCESS<br>                        );<br>                        sm.should.not.be.null();<br>                        helper.getLatestSession().currentState<br>                            .should.equal(constants.gameStates<br>                                .READY);<br>                        helper.getLatestSession().roundWinner<br>                            .should.equal(<span class="hljs-string">'username'</span>);<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="8edf77d0-fb45-475a-afb0-fdd2d3fda0c9" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reject when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8edf77d0-fb45-475a-afb0-fdd2d3fda0c9 > .test-code.collapse">Code</button>
              <span class="test-duration fast">37 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                messageFactory.restore(m, messageConstants.SUCCESS);<br>                helper.getLatestSession().currentState.should<br>                    .equal(constants.gameStates.PENDING);<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .REJECT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> sm = messageFactory.restore(<br>                            rm, messageConstants.SUCCESS<br>                        );<br>                        sm.should.not.be.null();<br>                        helper.getLatestSession().currentState<br>                            .should.equal(constants.gameStates<br>                                .READY);<br>                        should(helper.getLatestSession()<br>                            .roundWinner).be.null();<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="20fbb492-19e0-4236-a6a0-3f552aa8255a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reset when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#20fbb492-19e0-4236-a6a0-3f552aa8255a > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.RESET;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="81bbb1af-c289-4d3b-9de6-cf7dceb3584d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow disable when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#81bbb1af-c289-4d3b-9de6-cf7dceb3584d > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId, constants.buzzerActionCommands<br>        .DISABLE,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>            sm.should.be.instanceOf(successMessage);<br>            helper.getLatestSession().currentState.should.equal(<br>                constants.gameStates.BUZZER_LOCK);<br>            done();<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="8bcf6e88-e6c5-4100-89a8-25120495fc57" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow enable when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8bcf6e88-e6c5-4100-89a8-25120495fc57 > .test-code.collapse">Code</button>
              <span class="test-duration fast">36 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId, constants.buzzerActionCommands<br>        .DISABLE,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>            sm.should.be.instanceOf(successMessage);<br>            helper.getLatestSession().currentState.should.equal(<br>                constants.gameStates.BUZZER_LOCK);<br>            helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId,<br>                constants.buzzerActionCommands.ENABLE,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>                    sm.should.be.instanceOf(successMessage);<br>                    helper.getLatestSession().currentState.should<br>                        .equal(constants.gameStates.READY);<br>                    done();<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="f77ccfb1-3978-473b-935d-4751254f7a6d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow accept when state is not pending
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f77ccfb1-3978-473b-935d-4751254f7a6d > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.ACCEPT;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="39adcd89-e9c0-4f86-a629-170053bf0a2b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow reject when state is not pending
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#39adcd89-e9c0-4f86-a629-170053bf0a2b > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.REJECT;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="35b85fe5-33ce-4acd-93f9-45e5bec2a101" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reset when game state is ready
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#35b85fe5-33ce-4acd-93f9-45e5bec2a101 > .test-code.collapse">Code</button>
              <span class="test-duration fast">19 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.RESET;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="338362a7-3e5a-4899-8568-b008d5b1b111" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reset when game state is pending
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#338362a7-3e5a-4899-8568-b008d5b1b111 > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                messageFactory.restore(m, messageConstants.SUCCESS);<br>                helper.getLatestSession().currentState.should<br>                    .equal(constants.gameStates.PENDING);<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .RESET;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> sm = messageFactory.restore(<br>                            rm, messageConstants.SUCCESS<br>                        );<br>                        sm.should.not.be.null();<br>                        helper.getLatestSession().currentState<br>                            .should.equal(constants.gameStates<br>                                .READY);<br>                        should.not.exist(helper.getLatestSession()<br>                            .roundWinner);<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9b3d9181-dad7-4ade-bf60-648541a8dd18" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow response when host id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9b3d9181-dad7-4ade-bf60-648541a8dd18 > .test-code.collapse">Code</button>
              <span class="test-duration fast">31 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = idUtility.generateParticipantId();<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> em = messageFactory.restore(<br>                            rm, messageConstants.ERROR<br>                        );<br>                        em.error.should.equal(constants<br>                            .messages.COULD_NOT_ACCEPT_REQUEST_NOT_HOST<br>                        );<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="646a1ab5-a9bb-4e94-bf7d-cd2ea5f8222d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow response when session id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#646a1ab5-a9bb-4e94-bf7d-cd2ea5f8222d > .test-code.collapse">Code</button>
              <span class="test-duration medium">54 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = idUtility.generateSessionId();<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> em = messageFactory.restore(<br>                            rm, messageConstants.ERROR<br>                        );<br>                        em.error.should.equal(constants<br>                            .messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED<br>                        );<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a2a44e60-f9db-4b3f-b833-4de1d66755ce" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow response when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a2a44e60-f9db-4b3f-b833-4de1d66755ce > .test-code.collapse">Code</button>
              <span class="test-duration fast">33 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                helper.getLatestSession().complete();<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> em = messageFactory.restore(<br>                            rm, messageConstants.ERROR<br>                        );<br>                        em.error.should.equal(constants<br>                            .messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED<br>                        );<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
              <section class="suite-wrap">
          <div id="c1dbb1c5-821e-4d27-84d3-c0cc109da305" class="suite has-tests has-passed">
            <h3 class="suite-title">when accepted</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="c1dbb1c5-821e-4d27-84d3-c0cc109da305" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">116 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#c1dbb1c5-821e-4d27-84d3-c0cc109da305-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="c1dbb1c5-821e-4d27-84d3-c0cc109da305-test-list" class="list-group test-list collapse in">
                    <div id="1b6f7723-7d9c-4d2f-876b-41fc1522f67f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1b6f7723-7d9c-4d2f-876b-41fc1522f67f > .test-code.collapse">Code</button>
              <span class="test-duration medium">47 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m,<br>            messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.contestants.length &amp;&amp; om.gameState<br>            .contestants[<span class="hljs-number">0</span>].score === <span class="hljs-number">1</span>) {<br>            done();<br>        }<br>    });<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .ACCEPT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3d060887-b168-4df7-8272-04f3bf7ca4fa" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3d060887-b168-4df7-8272-04f3bf7ca4fa > .test-code.collapse">Code</button>
              <span class="test-duration medium">39 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .ACCEPT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">1</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0fa965d5-d20b-4085-aafc-7d01fe35378e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0fa965d5-d20b-4085-aafc-7d01fe35378e > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .ACCEPT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">1</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">1</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="7412c060-6669-4c25-9685-871f0fd28594" class="suite has-tests has-passed">
            <h3 class="suite-title">when rejected</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="7412c060-6669-4c25-9685-871f0fd28594" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">104 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#7412c060-6669-4c25-9685-871f0fd28594-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="7412c060-6669-4c25-9685-871f0fd28594-test-list" class="list-group test-list collapse in">
                    <div id="d5cb4b97-0318-4e64-af8e-e757790f9673" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d5cb4b97-0318-4e64-af8e-e757790f9673 > .test-code.collapse">Code</button>
              <span class="test-duration fast">36 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> observedPending = <span class="hljs-literal">false</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m,<br>            messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.currentState === constants<br>            .gameStates.PENDING) {<br>            observedPending = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">return</span>;<br>        }<br>        <span class="hljs-keyword">if</span> (observedPending &amp;&amp; om.gameState.currentState ===<br>            constants.gameStates.READY) {<br>            om.gameState.contestants.length.should.equal(<br>                <span class="hljs-number">1</span>);<br>            om.gameState.contestants[<span class="hljs-number">0</span>].score.should<br>                .equal(<span class="hljs-number">0</span>);<br>            done();<br>        }<br>    });<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .REJECT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="5041742f-08d2-4c3f-b62f-2e45e5dd0a8e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5041742f-08d2-4c3f-b62f-2e45e5dd0a8e > .test-code.collapse">Code</button>
              <span class="test-duration fast">36 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .REJECT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="43bf5221-f86e-49ec-af1d-2c5a4fc4d3ad" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#43bf5221-f86e-49ec-af1d-2c5a4fc4d3ad > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .REJECT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="f6b68e62-62b3-48d6-b09b-c73bb0e1c35f" class="suite has-tests has-passed">
            <h3 class="suite-title">when reset</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="f6b68e62-62b3-48d6-b09b-c73bb0e1c35f" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">100 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#f6b68e62-62b3-48d6-b09b-c73bb0e1c35f-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="f6b68e62-62b3-48d6-b09b-c73bb0e1c35f-test-list" class="list-group test-list collapse in">
                    <div id="e9d9fb9d-e19c-483f-9653-8c21526e99c8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e9d9fb9d-e19c-483f-9653-8c21526e99c8 > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> observedPending = <span class="hljs-literal">false</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m,<br>            messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.currentState === constants<br>            .gameStates.PENDING) {<br>            observedPending = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">return</span>;<br>        }<br>        <span class="hljs-keyword">if</span> (observedPending &amp;&amp; om.gameState.currentState ===<br>            constants.gameStates.READY) {<br>            om.gameState.contestants.length.should.equal(<br>                <span class="hljs-number">1</span>);<br>            om.gameState.contestants[<span class="hljs-number">0</span>].score.should<br>                .equal(<span class="hljs-number">0</span>);<br>            done();<br>        }<br>    });<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            helper.contestantBuzzerPress(cc, sessionId,<br>                rm.contestantId,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>                    helper.hostBuzzerAction(hc,<br>                        sessionId, hostId,<br>                        constants.buzzerActionCommands<br>                        .RESET);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e99d678f-3ac6-4b9f-8c95-fda2b5f00da2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e99d678f-3ac6-4b9f-8c95-fda2b5f00da2 > .test-code.collapse">Code</button>
              <span class="test-duration medium">39 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .RESET;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2345ed3f-e6ac-4fc9-911a-40ad01c34cbe" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2345ed3f-e6ac-4fc9-911a-40ad01c34cbe > .test-code.collapse">Code</button>
              <span class="test-duration fast">31 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .RESET;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="d7b36b06-e218-46cb-a397-5445a276d243" class="suite has-tests has-passed">
            <h3 class="suite-title">when disabled</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="d7b36b06-e218-46cb-a397-5445a276d243" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">86 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#d7b36b06-e218-46cb-a397-5445a276d243-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="d7b36b06-e218-46cb-a397-5445a276d243-test-list" class="list-group test-list collapse in">
                    <div id="dbcc5c0a-1851-44f9-b597-e7a092aa4ed7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#dbcc5c0a-1851-44f9-b597-e7a092aa4ed7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br><span class="hljs-comment">// listen for observer update</span><br>hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>    <span class="hljs-keyword">if</span> (om.gameState.currentState === constants.gameStates.BUZZER_LOCK) {<br>        done();<br>    }<br>});<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId,<br>        constants.buzzerActionCommands.DISABLE);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a1644b1d-d1cd-4c54-9df1-b7503b1b5072" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a1644b1d-d1cd-4c54-9df1-b7503b1b5072 > .test-code.collapse">Code</button>
              <span class="test-duration fast">35 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .DISABLE;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="2d4c373c-bd4d-412e-b10c-7a4c826d23be" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#2d4c373c-bd4d-412e-b10c-7a4c826d23be > .test-code.collapse">Code</button>
              <span class="test-duration medium">38 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .DISABLE;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="3365f14c-d15a-4846-91d1-6ac0144d1e70" class="suite has-tests has-passed">
            <h3 class="suite-title">when enabled</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="3365f14c-d15a-4846-91d1-6ac0144d1e70" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">24 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#3365f14c-d15a-4846-91d1-6ac0144d1e70-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="3365f14c-d15a-4846-91d1-6ac0144d1e70-test-list" class="list-group test-list collapse in">
                    <div id="6db75b3c-89c7-4099-8f00-ec55d81d3071" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6db75b3c-89c7-4099-8f00-ec55d81d3071 > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br><span class="hljs-keyword">var</span> observedLocked = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// listen for observer update</span><br>hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>    <span class="hljs-keyword">if</span> (om.gameState.currentState === constants.gameStates.BUZZER_LOCK) {<br>        observedLocked = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span>;<br>    }<br>    <span class="hljs-keyword">if</span> (observedLocked &amp;&amp; om.gameState.currentState ===<br>        constants.gameStates.READY) {<br>        done();<br>    }<br>});<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId,<br>        constants.buzzerActionCommands.DISABLE,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>            sm.should.be.instanceOf(successMessage);<br>            helper.getLatestSession().currentState.should<br>                .equal(constants.gameStates.BUZZER_LOCK);<br>            helper.hostBuzzerAction(hc, rm.sessionId,<br>                rm.hostId, constants.buzzerActionCommands<br>                .ENABLE,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>                    sm.should.be.instanceOf(<br>                        successMessage);<br>                    helper.getLatestSession().currentState<br>                        .should.equal(constants.gameStates<br>                            .READY);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="ae8cc22b-7bfb-454b-9f82-275d598bd0b8" class="suite has-tests has-passed">
            <h3 class="suite-title">team name change</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="ae8cc22b-7bfb-454b-9f82-275d598bd0b8" class="suite-chart" width="50" height="50" data-total-passes="8" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">146 ms</li>
                <li class="suite-summary-item tests">8</li>
                <li class="suite-summary-item passed">8</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#ae8cc22b-7bfb-454b-9f82-275d598bd0b8-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="ae8cc22b-7bfb-454b-9f82-275d598bd0b8-test-list" class="list-group test-list collapse in">
                    <div id="93c437fc-d12f-465e-bfa1-ac0754d60fd8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#93c437fc-d12f-465e-bfa1-ac0754d60fd8 > .test-code.collapse">Code</button>
              <span class="test-duration fast">17 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'The new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        team.teamName.should.equal(req.teamNameTo);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="553459ef-8e72-4a7a-82ee-886329fe7dc2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when name contains profanity
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#553459ef-8e72-4a7a-82ee-886329fe7dc2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'ash0le penis'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        team.teamName.should.equal(req.teamNameTo);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c0e25bcb-da57-45be-a3af-801eb7f7e7d8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when team name editing is manual
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c0e25bcb-da57-45be-a3af-801eb7f7e7d8 > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.MANUAL;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'The new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        team.teamName.should.equal(req.teamNameTo);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="4f9ca9c0-ef38-4c7b-88fe-e918bc04cf01" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#4f9ca9c0-ef38-4c7b-88fe-e918bc04cf01 > .test-code.collapse">Code</button>
              <span class="test-duration fast">21 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    session.complete();<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'A new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3afcc193-6529-4be7-a8fa-b6fa820b5093" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when not the host
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3afcc193-6529-4be7-a8fa-b6fa820b5093 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = idUtility.generateParticipantId();<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'A new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_REQUEST_NOT_HOST);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="42a49a0d-17bf-4cf1-ac4a-53f8510d8051" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it team does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#42a49a0d-17bf-4cf1-ac4a-53f8510d8051 > .test-code.collapse">Code</button>
              <span class="test-duration fast">17 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = <span class="hljs-string">'does not exist'</span>;<br>    req.teamNameTo = <span class="hljs-string">'some other team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_TEAM_NOT_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0849ee9e-5dbd-4900-b42a-146b327fb527" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when team name already in use
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0849ee9e-5dbd-4900-b42a-146b327fb527 > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">2</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team1 = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> team2 = session.teams.all[<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team1.teamName;<br>    req.teamNameTo = team2.teamName;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_IN_USE);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a4fccf79-ce02-4975-a650-2ec3cecd2404" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a4fccf79-ce02-4975-a650-2ec3cecd2404 > .test-code.collapse">Code</button>
              <span class="test-duration fast">22 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">2</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = idUtility.generateSessionId();<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'some new name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="1c2383cf-887e-438f-885b-46c4b9702804" class="suite has-tests has-passed">
            <h3 class="suite-title">team leader change</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="1c2383cf-887e-438f-885b-46c4b9702804" class="suite-chart" width="50" height="50" data-total-passes="7" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">330 ms</li>
                <li class="suite-summary-item tests">7</li>
                <li class="suite-summary-item passed">7</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#1c2383cf-887e-438f-885b-46c4b9702804-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="1c2383cf-887e-438f-885b-46c4b9702804-test-list" class="list-group test-list collapse in">
                    <div id="b5ad6305-d4f0-4e6d-9348-56c1d6110731" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b5ad6305-d4f0-4e6d-9348-56c1d6110731 > .test-code.collapse">Code</button>
              <span class="test-duration medium">44 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> teamLeaderUsername = team.teamLeader.username;<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> sm = messageFactory.restore(m,<br>                        messageConstants.SUCCESS);<br>                    sm.should.not.be.null();<br>                    team.teamLeader.username.should.not.equal(<br>                        teamLeaderUsername);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="65eb03ab-8419-46e9-86ab-218952310dcb" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it team leader is the same
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#65eb03ab-8419-46e9-86ab-218952310dcb > .test-code.collapse">Code</button>
              <span class="test-duration medium">52 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> teamLeaderUsername = team.teamLeader.username;<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> sm = messageFactory.restore(m,<br>                        messageConstants.SUCCESS);<br>                    sm.should.not.be.null();<br>                    team.teamLeader.username.should.equal(<br>                        teamLeaderUsername);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="536b37e5-ec6e-4da6-a0e8-311a58e67a11" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#536b37e5-ec6e-4da6-a0e8-311a58e67a11 > .test-code.collapse">Code</button>
              <span class="test-duration medium">62 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            session.complete();<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="34baeb97-b0e4-484e-8668-4c0f9ec3274e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when not the host
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#34baeb97-b0e4-484e-8668-4c0f9ec3274e > .test-code.collapse">Code</button>
              <span class="test-duration medium">42 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = idUtility.generateParticipantId();<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_REQUEST_NOT_HOST);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ec9840f7-6c1c-4a96-88a4-2942b17a631d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it team does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ec9840f7-6c1c-4a96-88a4-2942b17a631d > .test-code.collapse">Code</button>
              <span class="test-duration medium">42 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = <span class="hljs-string">'does not exist team name'</span>;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_TEAM_NOT_FOUND);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1c01cc7d-11e8-4266-b7da-a0dc6938733a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1c01cc7d-11e8-4266-b7da-a0dc6938733a > .test-code.collapse">Code</button>
              <span class="test-duration medium">45 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = idUtility.generateSessionId();<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            session.complete();<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="06a559a0-4b19-4093-9e47-e555cb2212ea" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#06a559a0-4b19-4093-9e47-e555cb2212ea > .test-code.collapse">Code</button>
              <span class="test-duration medium">43 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = <span class="hljs-string">'does not exist'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_CONTESTANT_NOT_FOUND);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="eb9ae28c-2736-4620-accf-08d681b5104b" class="suite has-tests has-passed">
            <h3 class="suite-title">info request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="eb9ae28c-2736-4620-accf-08d681b5104b" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">74 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#eb9ae28c-2736-4620-accf-08d681b5104b-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="eb9ae28c-2736-4620-accf-08d681b5104b-test-list" class="list-group test-list collapse in">
                    <div id="21caf0df-d72d-406e-9c96-57163a0dbf9d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for individuals contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#21caf0df-d72d-406e-9c96-57163a0dbf9d > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.participantId = hostId;<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        should(irm.info).not.be.null();<br>        should(irm.info.host).not.be.null();<br>        should(irm.info.contestant).be.null();<br>        should(irm.info.team).be.null();<br>        should(irm.info.session).not.be.null();<br>        should(irm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>        should(irm.info.isObserver).be.false();<br>        should(irm.info.isHost).be.true();<br>        should(irm.info.isContestant).be.false();<br>        should(irm.info.isSessionCompleted).be.false();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0ed052ff-36d8-4414-acb0-19eb41807ebf" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0ed052ff-36d8-4414-acb0-19eb41807ebf > .test-code.collapse">Code</button>
              <span class="test-duration fast">28 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = idUtility.generateSessionId();<br>    req.participantId = hostId;<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="87900572-ff66-4507-8692-63cdee387e3f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#87900572-ff66-4507-8692-63cdee387e3f > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.participantId = idUtility.generateParticipantId();<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_CONTESTANT_OR_HOST_NOT_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d58dc95a-f748-4720-966f-800284de3546" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d58dc95a-f748-4720-966f-800284de3546 > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.participantId = hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="8c4e2e67-8d40-40ad-9a93-b5c14078d516" class="suite has-suites">
            <h3 class="suite-title">Buzzer server</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
        
              <section class="suite-wrap">
          <div id="f9316486-52ec-4bea-9271-57d4ec6c3fec" class="suite has-suites">
            <h3 class="suite-title">observer</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
        
              <section class="suite-wrap">
          <div id="c09417a1-4936-48d3-9ac5-5dec509dcabb" class="suite has-tests has-passed">
            <h3 class="suite-title">rejoin</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="c09417a1-4936-48d3-9ac5-5dec509dcabb" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">86 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#c09417a1-4936-48d3-9ac5-5dec509dcabb-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="c09417a1-4936-48d3-9ac5-5dec509dcabb-test-list" class="list-group test-list collapse in">
                    <div id="cdd4fea8-0e7b-4361-9294-5ff0652f2d91" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid and subscribe observer to the observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#cdd4fea8-0e7b-4361-9294-5ff0652f2d91 > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.rejoinAs = constants.rejoinAs.OBSERVER;<br>    <span class="hljs-comment">// listen for observer update</span><br>    oc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{<br>        <span class="hljs-keyword">var</span> ob = messageFactory.restore(message, messageConstants.OBSERVER_UPDATE);<br>        ob.should.not.be.null();<br>        done();<br>    });<br>    oc.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{<br>        data.type.should.equal(messageConstants.SUCCESS);<br>        <span class="hljs-comment">// force observer update</span><br>        helper.forceObserveUpdate(rm.sessionId);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="03a0b0c5-79c7-457e-8293-3e0ba5c7dcb5" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#03a0b0c5-79c7-457e-8293-3e0ba5c7dcb5 > .test-code.collapse">Code</button>
              <span class="test-duration fast">23 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> ob = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = idUtility.generateSessionId();<br>    rjm.rejoinAs = constants.rejoinAs.OBSERVER;<br>    ob.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a582d9cd-1490-43c5-bf05-dfcfd21e0478" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a582d9cd-1490-43c5-bf05-dfcfd21e0478 > .test-code.collapse">Code</button>
              <span class="test-duration medium">39 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> ob = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = idUtility.generateSessionId();<br>    rjm.rejoinAs = constants.rejoinAs.OBSERVER;<br>    ob.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="640fa371-98d7-40f1-8137-dcacffa12a16" class="suite has-tests has-passed">
            <h3 class="suite-title">info request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="640fa371-98d7-40f1-8137-dcacffa12a16" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">75 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#640fa371-98d7-40f1-8137-dcacffa12a16-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="640fa371-98d7-40f1-8137-dcacffa12a16-test-list" class="list-group test-list collapse in">
                    <div id="68ee4d09-866a-4943-9762-dc6c1fbc3bf3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for individuals contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#68ee4d09-866a-4943-9762-dc6c1fbc3bf3 > .test-code.collapse">Code</button>
              <span class="test-duration fast">21 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    oc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        should(irm.info).not.be.null();<br>        should(irm.info.host).be.null();<br>        should(irm.info.contestant).be.null();<br>        should(irm.info.team).be.null();<br>        should(irm.info.session).not.be.null();<br>        should(irm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>        should(irm.info.isObserver).be.true();<br>        should(irm.info.isHost).be.false();<br>        should(irm.info.isContestant).be.false();<br>        should(irm.info.isSessionCompleted).be.false();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="5469c2f5-e90e-48a7-b182-4bf87bf60188" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5469c2f5-e90e-48a7-b182-4bf87bf60188 > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = idUtility.generateSessionId();<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    oc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a5bd7372-f790-4dc7-90c6-dae383e0f1dd" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a5bd7372-f790-4dc7-90c6-dae383e0f1dd > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    oc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
    </div>

    <footer>
      <div class="container">
        <p>Report generated by <a href="http://adamgruber.github.io/mochawesome/" target="_blank">mochawesome</a>.<br>Designed and built by <a href="https://github.com/adamgruber" target="_blank">adamgruber</a>. &copy;2016.</p>
      </div>
    </footer>

    <!-- Nav Menu -->
    <div class="nav-menu-wrap">
      <div class="menu-overlay close-menu"></div>
      <nav class="menu">
        <button class="nav-menu-btn close-menu"><i class="icon-failed"></i></button>
        <ul class="list-unstyled main-menu">
                <li class="nav-menu-item">
                <a href="#4fff25ad-77a6-486e-bf63-20006cd377ac" class="nav-menu-item-link">Buzzer server</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#b01895c9-7888-43ef-acd2-f29c4d46570e" class="nav-menu-item-link">contestant</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#b61a8261-f463-472a-a6cb-1866904d95d6" class="nav-menu-item-link">join</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#45ea8236-15bf-425d-877c-89fc1f7fb7ef" class="nav-menu-item-link has-passes">as individual</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#7f6b3ea6-45f3-42db-8573-31847450fab0" class="nav-menu-item-link has-passes">with teams</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#d929a4fa-0e09-4991-8de0-97c0ec925fef" class="nav-menu-item-link has-passes">when team leader selection method is RANDOM</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#17c7ce29-953e-4dd6-be25-c30acec20fac" class="nav-menu-item-link has-passes">team leader inquiry response</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#ae34a330-b74d-4315-b852-14ff52858718" class="nav-menu-item-link has-passes">buzzerPress</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#3b1ac800-2cf3-4499-9163-f1904f33705a" class="nav-menu-item-link has-passes">team name change request</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#46df14ce-9435-41b4-b3a2-867b8b54cb27" class="nav-menu-item-link has-passes">info request</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#2905ed82-741e-4444-a3fb-ef6d02fb1fb9" class="nav-menu-item-link">Buzzer server</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#a103ad79-67f7-4dcd-9241-b9cd7d2339ff" class="nav-menu-item-link">host</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#23776fca-5625-4874-b3f7-12dfb0006a22" class="nav-menu-item-link">create</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#fa3d1a20-9242-4428-9256-567c482b8b02" class="nav-menu-item-link has-passes">session</a>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#cbf6f4e8-61af-4535-bbc0-e17e10136927" class="nav-menu-item-link">rejoin</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#370bdc0e-54de-4a1d-9e9d-7e0770085aeb" class="nav-menu-item-link has-passes">session</a>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#e1a9c1cf-da69-4711-b470-e292464ee3ca" class="nav-menu-item-link">complete</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#7c6350fb-5168-4326-8d1b-253c1d1ff143" class="nav-menu-item-link has-passes">session</a>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#77eefba0-04dd-4fb0-8416-1983ac700153" class="nav-menu-item-link">buzzer</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#13141612-a78a-4393-8031-5ef1e54aa7e2" class="nav-menu-item-link has-passes">action</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#c1dbb1c5-821e-4d27-84d3-c0cc109da305" class="nav-menu-item-link has-passes">when accepted</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#7412c060-6669-4c25-9685-871f0fd28594" class="nav-menu-item-link has-passes">when rejected</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#f6b68e62-62b3-48d6-b09b-c73bb0e1c35f" class="nav-menu-item-link has-passes">when reset</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#d7b36b06-e218-46cb-a397-5445a276d243" class="nav-menu-item-link has-passes">when disabled</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#3365f14c-d15a-4846-91d1-6ac0144d1e70" class="nav-menu-item-link has-passes">when enabled</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#ae8cc22b-7bfb-454b-9f82-275d598bd0b8" class="nav-menu-item-link has-passes">team name change</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#1c2383cf-887e-438f-885b-46c4b9702804" class="nav-menu-item-link has-passes">team leader change</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#eb9ae28c-2736-4620-accf-08d681b5104b" class="nav-menu-item-link has-passes">info request</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#8c4e2e67-8d40-40ad-9a93-b5c14078d516" class="nav-menu-item-link">Buzzer server</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#f9316486-52ec-4bea-9271-57d4ec6c3fec" class="nav-menu-item-link">observer</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#c09417a1-4936-48d3-9ac5-5dec509dcabb" class="nav-menu-item-link has-passes">rejoin</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#640fa371-98d7-40f1-8137-dcacffa12a16" class="nav-menu-item-link has-passes">info request</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
        </ul>
      </nav>
    </div>

    <!-- Scripts -->
    <script src="js/vendor.js"></script>
    <script src="js/mochawesome.js"></script>
  </body>
</html>
