<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mochawesome Report Card</title>
    
    <link rel="stylesheet" href="css/mochawesome.css">
  </head>
  <body>

    <!-- NAVBAR -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="report-info-cnt">
          <h1 class="report-title">buzzer.click</h1>
          <h3 class="report-date">Friday, September 30 2016, 11:33am</h3>
        </div>
        <div class="nav-right">
          <div class="quick-summary-cnt">
              <ul class="list-unstyled quick-summary">
                <li class="qs-item summary-duration" title="Duration">4.730<span>S</span></li>
                <li class="qs-item summary-suites" title="Suites">37</li>
                <li class="qs-item summary-tests" title="Tests">129</li>
                <li class="qs-item summary-passes" title="Passed" data-filter="passed">129</li>
                <li class="qs-item summary-failures" title="Failed" data-filter="failed">0</li>
                <li class="qs-item summary-pending" title="Pending" data-filter="pending">0</li>
              </ul>          </div>
          <button class="nav-menu-btn open-menu"><i class="icon-menu"></i></button>
        </div>
      </div>
    </div>

    <!-- Report Summary -->
    <div class="summary">
      <div class="container">
          <div class="row">
            <div class="summary-col summary-duration">
              <h1 class="summary-count">4.730<span>S</span></h1>
              <h4 class="summary-label">S</h4>
            </div>
            <div class="summary-col summary-suites" title="Suites">
              <h1 class="summary-count">37</h1>
              <h4 class="summary-label">Suites</h4>
            </div>
            <div class="summary-col summary-tests" title="Tests">
              <h1 class="summary-count">129</h1>
              <h4 class="summary-label">Tests</h4>
            </div>
            <div class="summary-col summary-passes" data-filter="passed" title="Passed">
              <h1 class="summary-count">129</h1>
              <h4 class="summary-label">Passed</h4>
            </div>
            <div class="summary-col summary-failures" data-filter="failed" title="Failed">
              <h1 class="summary-count">0</h1>
              <h4 class="summary-label">Failed</h4>
            </div>
            <div class="summary-col summary-pending" data-filter="pending" title="Pending">
              <h1 class="summary-count">0</h1>
              <h4 class="summary-label">Pending</h4>
            </div>
          </div>      </div>
    </div>
    <div class="statusbar">
      <div class="container">
          <div class="row">
            <div class="status-item status-item-pending-pct">0% Pending</div>
            <div class="status-item status-item-passing-pct success">100% Passing</div>
          </div>      </div>
    </div>

    <!-- Suites -->
    <div class="details container">
            <section class="suite-wrap">
          <div id="4b8d40fc-89a0-4670-ba2b-e21a992efef8" class="suite has-suites">
            <h3 class="suite-title">Buzzer server</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
        
              <section class="suite-wrap">
          <div id="85d7f3b1-8eaf-4041-a3a4-b1781b21e0c9" class="suite has-suites">
            <h3 class="suite-title">contestant</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
        
              <section class="suite-wrap">
          <div id="cb06de25-190e-4aed-8dde-a3713349a163" class="suite has-suites">
            <h3 class="suite-title">join</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
        
              <section class="suite-wrap">
          <div id="b7312eac-62e2-4161-9515-2c9c3238f7fd" class="suite has-tests has-passed">
            <h3 class="suite-title">as individual</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="b7312eac-62e2-4161-9515-2c9c3238f7fd" class="suite-chart" width="50" height="50" data-total-passes="8" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">551 ms</li>
                <li class="suite-summary-item tests">8</li>
                <li class="suite-summary-item passed">8</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#b7312eac-62e2-4161-9515-2c9c3238f7fd-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="b7312eac-62e2-4161-9515-2c9c3238f7fd-test-list" class="list-group test-list collapse in">
                    <div id="1545dde9-c2e2-4ec9-a25a-06f298e1baf4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1545dde9-c2e2-4ec9-a25a-06f298e1baf4 > .test-code.collapse">Code</button>
              <span class="test-duration slow">210 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        rm.contestantId.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1afd5eab-4101-489a-a42f-02fccef7cc70" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1afd5eab-4101-489a-a42f-02fccef7cc70 > .test-code.collapse">Code</button>
              <span class="test-duration medium">47 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        om.gameState.contestants.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.contestants[<span class="hljs-number">0</span>].username.should.equal(<span class="hljs-string">'Test Person'</span>);<br>        done();<br>    });<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'Test Person'</span>, rm.sessionId);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ced1240f-a738-40f0-a55a-9fd2cc959781" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ced1240f-a738-40f0-a55a-9fd2cc959781 > .test-code.collapse">Code</button>
              <span class="test-duration medium">56 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">responseMessage</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rm1 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm1.sessionId = responseMessage.sessionId;<br>    rm1.username = <span class="hljs-string">'TP1'</span>;<br>    <span class="hljs-keyword">var</span> rm2 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm2.sessionId = responseMessage.sessionId;<br>    rm2.username = <span class="hljs-string">'TP2'</span>;<br>    <span class="hljs-comment">// Contestant 1 join</span><br>    cc1.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm1, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m1</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm1 = messageFactory.restore(m1, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm1.wasSuccessful.should.be.true();<br>        <span class="hljs-comment">// Contestant 2 join</span><br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm2, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m2</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm2 = messageFactory.restore(m2, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            rm2.wasSuccessful.should.be.false();<br>            rm2.failedRequestReason.should.equal(constants.messages.MAXIMUM_SESSION_SIZED_REACHED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="06b37716-678e-4fa3-9640-a9901ede1d2d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to contestant room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#06b37716-678e-4fa3-9640-a9901ede1d2d > .test-code.collapse">Code</button>
              <span class="test-duration medium">46 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for Contestant update</span><br>    cc.on(<span class="hljs-string">'testMessage'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        m.should.equal(<span class="hljs-string">'test'</span>);<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.sendMessageToContestants(sessionId, <span class="hljs-string">'testMessage'</span>, <span class="hljs-string">'test'</span>);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="70cdfb65-1ea5-447a-9a3e-71d3ffdc1914" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#70cdfb65-1ea5-447a-9a3e-71d3ffdc1914 > .test-code.collapse">Code</button>
              <span class="test-duration medium">50 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    cc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-comment">// Hack: this event may fire twice</span><br>        helper.closeClients();<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.forceObserveUpdate(sessionId);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a1dab795-7558-4d17-9e33-b141ca23a2d2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a1dab795-7558-4d17-9e33-b141ca23a2d2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">35 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = idUtility.generateSessionId();<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="78416009-aec9-4932-84b9-ab16bf8811fd" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#78416009-aec9-4932-84b9-ab16bf8811fd > .test-code.collapse">Code</button>
              <span class="test-duration medium">50 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9a1f26b7-2ad5-4cde-ba97-c4f4a86fe14d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when username is taken
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9a1f26b7-2ad5-4cde-ba97-c4f4a86fe14d > .test-code.collapse">Code</button>
              <span class="test-duration medium">57 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>        <span class="hljs-comment">// Join</span><br>        <span class="hljs-keyword">var</span> rm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>        rm.sessionId = sessionId;<br>        rm.username = <span class="hljs-string">'username'</span>;<br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{<br>            <span class="hljs-keyword">var</span> responseMessage = messageFactory.restore(message, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            responseMessage.should.not.be.null();<br>            responseMessage.wasSuccessful.should.be.false();<br>            responseMessage.failedRequestReason.should.equal(constants.messages.USERNAME_TAKEN);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="c3cf5749-cfc9-436e-bfea-76f37ff1beb2" class="suite has-suites has-tests has-passed">
            <h3 class="suite-title">with teams</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="c3cf5749-cfc9-436e-bfea-76f37ff1beb2" class="suite-chart" width="50" height="50" data-total-passes="10" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">394 ms</li>
                <li class="suite-summary-item tests">10</li>
                <li class="suite-summary-item passed">10</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#c3cf5749-cfc9-436e-bfea-76f37ff1beb2-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="c3cf5749-cfc9-436e-bfea-76f37ff1beb2-test-list" class="list-group test-list collapse in">
                    <div id="fccea381-2d55-4309-8c1f-39a8127559e2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#fccea381-2d55-4309-8c1f-39a8127559e2 > .test-code.collapse">Code</button>
              <span class="test-duration medium">43 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        rm.contestantId.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="25135448-5c52-40fb-8864-83870d7dd064" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#25135448-5c52-40fb-8864-83870d7dd064 > .test-code.collapse">Code</button>
              <span class="test-duration medium">46 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        om.gameState.contestants.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.contestants[<span class="hljs-number">0</span>].username.should.equal(<span class="hljs-string">'Test Person'</span>);<br>        om.gameState.teams.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.teams[<span class="hljs-number">0</span>].contestants.length.should.equal(<span class="hljs-number">1</span>);<br>        om.gameState.teams[<span class="hljs-number">0</span>].contestants[<span class="hljs-number">0</span>].username.should.equal(<span class="hljs-string">'Test Person'</span>);<br>        done();<br>    });<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'Test Person'</span>, rm.sessionId);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0482fd73-619a-4e33-aae5-52ba5b65e278" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0482fd73-619a-4e33-aae5-52ba5b65e278 > .test-code.collapse">Code</button>
              <span class="test-duration medium">53 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">responseMessage</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rm1 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm1.sessionId = responseMessage.sessionId;<br>    rm1.username = <span class="hljs-string">'TP1'</span>;<br>    <span class="hljs-keyword">var</span> rm2 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rm2.sessionId = responseMessage.sessionId;<br>    rm2.username = <span class="hljs-string">'TP2'</span>;<br>    <span class="hljs-comment">// Contestant 1 join</span><br>    cc1.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm1, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m1</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm1 = messageFactory.restore(m1, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm1.wasSuccessful.should.be.true();<br>        <span class="hljs-comment">// Contestant 2 join</span><br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm2, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m2</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm2 = messageFactory.restore(m2, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            rm2.wasSuccessful.should.be.false();<br>            rm2.failedRequestReason.should.equal(constants.messages.TEAMS_ARE_FULL);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="971dd1c7-f385-4257-b23b-3e0614c6daa8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to contestant room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#971dd1c7-f385-4257-b23b-3e0614c6daa8 > .test-code.collapse">Code</button>
              <span class="test-duration medium">38 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for Contestant update</span><br>    cc.on(<span class="hljs-string">'testMessage'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        m.should.equal(<span class="hljs-string">'test'</span>);<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.sendMessageToContestants(sessionId, <span class="hljs-string">'testMessage'</span>, <span class="hljs-string">'test'</span>);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="25afb38c-7f6b-46f1-8511-3b32539dd18a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe contestant to observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#25afb38c-7f6b-46f1-8511-3b32539dd18a > .test-code.collapse">Code</button>
              <span class="test-duration medium">42 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    cc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-comment">// Hack: this event may fire twice</span><br>        helper.closeClients();<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.true();<br>        helper.forceObserveUpdate(sessionId);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="fcf916fc-4e8b-495e-876e-590479a89de6" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#fcf916fc-4e8b-495e-876e-590479a89de6 > .test-code.collapse">Code</button>
              <span class="test-duration fast">29 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = idUtility.generateSessionId();<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d46b22dd-abc3-453b-bd19-744fb50620d2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d46b22dd-abc3-453b-bd19-744fb50620d2 > .test-code.collapse">Code</button>
              <span class="test-duration medium">54 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.should.not.be.null();<br>        rm.wasSuccessful.should.be.false();<br>        rm.failedRequestReason.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="81d1bc3b-634c-4e99-b580-e960238eeb8a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when username is taken
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#81d1bc3b-634c-4e99-b580-e960238eeb8a > .test-code.collapse">Code</button>
              <span class="test-duration medium">44 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>        <span class="hljs-comment">// Join</span><br>        <span class="hljs-keyword">var</span> rm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>        rm.sessionId = sessionId;<br>        rm.username = <span class="hljs-string">'username'</span>;<br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{<br>            <span class="hljs-keyword">var</span> responseMessage = messageFactory.restore(message, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            responseMessage.should.not.be.null();<br>            responseMessage.wasSuccessful.should.be.false();<br>            responseMessage.failedRequestReason.should.equal(constants.messages.USERNAME_TAKEN);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9d096ba8-e724-451c-b589-4ac40e6ef65b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should inquire about team leader position
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9d096ba8-e724-451c-b589-4ac40e6ef65b > .test-code.collapse">Code</button>
              <span class="test-duration fast">21 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="fb965d0b-ccf2-4f23-96d4-6c22968257e7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not inquire about team leader position
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#fb965d0b-ccf2-4f23-96d4-6c22968257e7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.false();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
              <section class="suite-wrap">
          <div id="f3855f72-4453-4057-a520-d6fe7d581b14" class="suite has-tests has-passed">
            <h3 class="suite-title">when team leader selection method is RANDOM</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="f3855f72-4453-4057-a520-d6fe7d581b14" class="suite-chart" width="50" height="50" data-total-passes="2" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">73 ms</li>
                <li class="suite-summary-item tests">2</li>
                <li class="suite-summary-item passed">2</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#f3855f72-4453-4057-a520-d6fe7d581b14-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="f3855f72-4453-4057-a520-d6fe7d581b14-test-list" class="list-group test-list collapse in">
                    <div id="d40396c6-1ba0-488b-834a-2d4e39d48311" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should fulfill team leader position when team is full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d40396c6-1ba0-488b-834a-2d4e39d48311 > .test-code.collapse">Code</button>
              <span class="test-duration medium">41 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(cc2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>            t.teamLeader.username.should.equalOneOf(<span class="hljs-string">'c1'</span>, <span class="hljs-string">'c2'</span>);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1621c564-4c13-4800-abfc-5999c114d691" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not fulfill team leader position when team is not full
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1621c564-4c13-4800-abfc-5999c114d691 > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">3</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(cc2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>            should(t.teamLeader).be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="b438f457-75f9-4be0-aa56-ac392d493729" class="suite has-tests has-passed">
            <h3 class="suite-title">when team selection method is PLAYER_CHOICE</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="b438f457-75f9-4be0-aa56-ac392d493729" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">189 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#b438f457-75f9-4be0-aa56-ac392d493729-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="b438f457-75f9-4be0-aa56-ac392d493729-test-list" class="list-group test-list collapse in">
                    <div id="6e298d25-0c15-45f7-af88-55a4bc588c62" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should respond with a list of teams
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6e298d25-0c15-45f7-af88-55a4bc588c62 > .test-code.collapse">Code</button>
              <span class="test-duration fast">28 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">3</span>;<br>s.teamSize = <span class="hljs-number">3</span>;<br>s.teamSelectionMethod = constants.teamSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.wasSuccessful.should.be.false();<br>        rm.mustChooseTeam.should.be.true();<br>        rm.teams.should.be.Array();<br>        rm.teams.length.should.equal(<span class="hljs-number">3</span>);<br>        helper.getLatestSession().contestants.length.should.equal(<span class="hljs-number">0</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b04c4004-8ab8-4d3b-b47a-df608c06971d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should all when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b04c4004-8ab8-4d3b-b47a-df608c06971d > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">3</span>;<br>s.teamSize = <span class="hljs-number">3</span>;<br>s.teamSelectionMethod = constants.teamSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = rm.sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.wasSuccessful.should.be.false();<br>        rqm.teamName = rm.teams[<span class="hljs-number">1</span>];<br>        cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            rm.wasSuccessful.should.be.true();<br>            should(rm.contestantId).not.be.null();<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> t = session.teams.getByTeamName(rqm.teamName);<br>            t.contestants.length.should.equal(<span class="hljs-number">1</span>);<br>            t.contestants.all[<span class="hljs-number">0</span>].id.should.equal(rm.contestantId);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a3d9b7a0-b1a5-4e07-8fdb-9aaa98676395" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not over fill a team
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a3d9b7a0-b1a5-4e07-8fdb-9aaa98676395 > .test-code.collapse">Code</button>
              <span class="test-duration slow">131 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">2</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamSelectionMethod = constants.teamSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.wasSuccessful.should.be.false();<br>        rqm.teamName = rm.teams[<span class="hljs-number">1</span>];<br>        <span class="hljs-comment">// Fill the spot</span><br>        <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>        <span class="hljs-keyword">var</span> rqm2 = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>        rqm2.sessionId = sessionId;<br>        rqm2.username = <span class="hljs-string">'Test Person2'</span>;<br>        rqm2.teamName = rqm.teamName;<br>        cc2.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm2, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            rm.wasSuccessful.should.be.true();<br>            <span class="hljs-comment">// Try join full team</span><br>            cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>                rm.wasSuccessful.should.be.false();<br>                rm.failedRequestReason.should.equal(constants.messages.TEAMS_ARE_FULL);<br>                done();<br>            });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="ba214ead-98dc-4b93-af45-36470e83fbda" class="suite has-tests has-passed">
            <h3 class="suite-title">rejoin</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="ba214ead-98dc-4b93-af45-36470e83fbda" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">186 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#ba214ead-98dc-4b93-af45-36470e83fbda-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="ba214ead-98dc-4b93-af45-36470e83fbda-test-list" class="list-group test-list collapse in">
                    <div id="285e0b81-e476-4567-b57c-49d5746d95ba" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid and subscribe contestant to the observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#285e0b81-e476-4567-b57c-49d5746d95ba > .test-code.collapse">Code</button>
              <span class="test-duration medium">40 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    helper.contestantJoin(cc, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        cc.disconnect();<br>        cc = helper.createClient();<br>        <span class="hljs-comment">// listen for observer update</span><br>        cc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-comment">// Hack: this event may fire twice</span><br>            helper.closeClients();<br>            <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>            om.should.not.be.null();<br>            done();<br>        });<br>        <span class="hljs-comment">// Rejoin</span><br>        <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>        rqm.sessionId = sessionId;<br>        rqm.participantId = contestantId;<br>        rqm.rejoinAs = constants.rejoinAs.CONTESTANT;<br>        cc.emit(messageConstants.REJOIN_SESSION, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="92a5f12a-8544-447f-be90-f63f8190cb15" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#92a5f12a-8544-447f-be90-f63f8190cb15 > .test-code.collapse">Code</button>
              <span class="test-duration medium">40 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    helper.contestantJoin(cc, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        cc.disconnect();<br>        cc = helper.createClient();<br>        <span class="hljs-comment">// Rejoin</span><br>        <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>        rqm.sessionId = idUtility.generateSessionId();<br>        rqm.participantId = contestantId;<br>        rqm.rejoinAs = constants.rejoinAs.CONTESTANT;<br>        cc.emit(messageConstants.REJOIN_SESSION, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="442ba255-2d5c-462e-8357-60e8411e0891" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#442ba255-2d5c-462e-8357-60e8411e0891 > .test-code.collapse">Code</button>
              <span class="test-duration medium">59 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    helper.contestantJoin(cc, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        cc.disconnect();<br>        cc = helper.createClient();<br>        <span class="hljs-comment">// Rejoin</span><br>        <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>        rqm.sessionId = sessionId;<br>        rqm.participantId = contestantId;<br>        rqm.rejoinAs = constants.rejoinAs.CONTESTANT;<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.complete();<br>        cc.emit(messageConstants.REJOIN_SESSION, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="f179499f-2c8c-44a8-a7fa-849d932b12dc" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should flag host as not disconnected
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f179499f-2c8c-44a8-a7fa-849d932b12dc > .test-code.collapse">Code</button>
              <span class="test-duration medium">47 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    helper.contestantJoin(cc, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        cc.disconnect();<br>        cc = helper.createClient();<br>        <span class="hljs-comment">// Rejoin</span><br>        <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>        rqm.sessionId = sessionId;<br>        rqm.participantId = contestantId;<br>        rqm.rejoinAs = constants.rejoinAs.CONTESTANT;<br>        cc.emit(messageConstants.REJOIN_SESSION, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> c = session.contestants.find(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{<br>                <span class="hljs-keyword">return</span> c.id === contestantId;<br>            });<br>            c.isDisconnected.should.be.false();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="3d00238a-b5ba-4cfa-a5e9-0778ec6c915c" class="suite has-tests has-passed">
            <h3 class="suite-title">on disconnect</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="3d00238a-b5ba-4cfa-a5e9-0778ec6c915c" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">30 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#3d00238a-b5ba-4cfa-a5e9-0778ec6c915c-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="3d00238a-b5ba-4cfa-a5e9-0778ec6c915c-test-list" class="list-group test-list collapse in">
                    <div id="ff201d23-a927-4ddc-8d0e-d0cec9895a3f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ff201d23-a927-4ddc-8d0e-d0cec9895a3f > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.contestants.length &gt; <span class="hljs-number">0</span> &amp;&amp; om.gameState.contestants[<span class="hljs-number">0</span>].disconnected) {<br>            done();<br>        }<br>    });<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        cc.disconnect();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="d1febcd9-6b62-4800-ab5c-23f6204a7d23" class="suite has-tests has-passed">
            <h3 class="suite-title">team leader inquiry response</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="d1febcd9-6b62-4800-ab5c-23f6204a7d23" class="suite-chart" width="50" height="50" data-total-passes="6" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">174 ms</li>
                <li class="suite-summary-item tests">6</li>
                <li class="suite-summary-item passed">6</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#d1febcd9-6b62-4800-ab5c-23f6204a7d23-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="d1febcd9-6b62-4800-ab5c-23f6204a7d23-test-list" class="list-group test-list collapse in">
                    <div id="367857b5-32cd-462d-8380-4b3983a2e7b4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should set team leader
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#367857b5-32cd-462d-8380-4b3983a2e7b4 > .test-code.collapse">Code</button>
              <span class="test-duration fast">28 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>            t.teamLeader.username.should.equal(<span class="hljs-string">'Test Person'</span>);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0e96f324-4123-461f-a30f-e2dc2366e63d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not set team leader
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0e96f324-4123-461f-a30f-e2dc2366e63d > .test-code.collapse">Code</button>
              <span class="test-duration fast">33 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">false</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> t = s.teams.all[<span class="hljs-number">0</span>];<br>            should(t.teamLeader).be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ca885f3d-eecf-4a8a-892c-58b38da8399c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ca885f3d-eecf-4a8a-892c-58b38da8399c > .test-code.collapse">Code</button>
              <span class="test-duration fast">23 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = idUtility.generateSessionId();<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>            rm.should.not.be.null();<br>            rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6cbf7a98-5c61-4491-8453-39082d65bcdf" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6cbf7a98-5c61-4491-8453-39082d65bcdf > .test-code.collapse">Code</button>
              <span class="test-duration fast">27 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = rm.contestantId;<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        helper.getLatestSession().complete();<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>            rm.should.not.be.null();<br>            rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d4a9cb88-883e-4d41-bb1e-68c6dabcfae7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d4a9cb88-883e-4d41-bb1e-68c6dabcfae7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">23 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>        rqm.sessionId = sessionId;<br>        rqm.contestantId = idUtility.generateParticipantId();<br>        rqm.decision = <span class="hljs-literal">true</span>;<br>        cc.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_LEADER_RESPONSE_NOT_CONTESTANT);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="61a8af95-e5e3-4eac-8ef7-9946f873ef89" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not set team leader when position fulfilled (aka race condition)
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#61a8af95-e5e3-4eac-8ef7-9946f873ef89 > .test-code.collapse">Code</button>
              <span class="test-duration medium">40 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.PLAYER_CHOICE;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc1.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        rm.enquireForTeamLeaderPosition.should.be.true();<br>        <span class="hljs-keyword">var</span> cc1Id = rm.contestantId;<br>        helper.contestantJoin(cc2, <span class="hljs-string">'Test Person2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>            rm.enquireForTeamLeaderPosition.should.be.true();<br>            rqm = messageFactory.create(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE);<br>            rqm.sessionId = sessionId;<br>            rqm.contestantId = rm.contestantId;<br>            rqm.decision = <span class="hljs-literal">true</span>;<br>            cc2.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>                sm.should.not.be.null();<br>                rqm.contestantId = cc1Id;<br>                cc1.emit(messageConstants.INQUIRE_TEAM_LEADER_RESPONSE_MESSAGE, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.COULD_NOT_PROMOTE_TO_TEAM_LEADER_POSITION_FULFILLED);<br>                    done();<br>                });<br>            });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="9af2fa40-d7e1-4796-8189-5dff39712786" class="suite has-tests has-passed">
            <h3 class="suite-title">buzzerPress</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="9af2fa40-d7e1-4796-8189-5dff39712786" class="suite-chart" width="50" height="50" data-total-passes="5" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">152 ms</li>
                <li class="suite-summary-item tests">5</li>
                <li class="suite-summary-item passed">5</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#9af2fa40-d7e1-4796-8189-5dff39712786-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="9af2fa40-d7e1-4796-8189-5dff39712786-test-list" class="list-group test-list collapse in">
                    <div id="88e89fdf-c843-4f59-bfdd-bfefc2e6dff3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when state is ready
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#88e89fdf-c843-4f59-bfdd-bfefc2e6dff3 > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0c77ee48-3938-4f7e-8ce2-35b4849482cc" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should ignore when state is not ready
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0c77ee48-3938-4f7e-8ce2-35b4849482cc > .test-code.collapse">Code</button>
              <span class="test-duration medium">42 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc1 = helper.createClient();<br>    helper.contestantJoin(cc1, <span class="hljs-string">'username1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc1.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            <span class="hljs-keyword">var</span> cc2 = helper.createClient();<br>            helper.contestantJoin(cc2, <span class="hljs-string">'username2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>                bpm.sessionId = sessionId;<br>                bpm.contestantId = rm.contestantId;<br>                cc1.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.BUZZER_PRESS_NOT_ACCEPTED);<br>                    done();<br>                });<br>            });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d7e994f0-3784-4fd0-b276-702a1497ddd7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d7e994f0-3784-4fd0-b276-702a1497ddd7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        helper.getLatestSession().complete();<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.ERROR);<br>            sm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="7c2a8fcd-301e-4d52-bc34-19f1cabf4bd2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7c2a8fcd-301e-4d52-bc34-19f1cabf4bd2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">27 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = idUtility.generateSessionId();<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.ERROR);<br>            sm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="f911db6a-3d99-4be3-8cd1-5972197ffa8f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#f911db6a-3d99-4be3-8cd1-5972197ffa8f > .test-code.collapse">Code</button>
              <span class="test-duration fast">35 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = idUtility.generateParticipantId();<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.ERROR);<br>            sm.error.should.equal(constants.messages.COULD_NOT_ACCEPT_BUZZER_PRESS_NOT_CONTESTANT);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="1a3d44ff-ea2a-4515-996a-d11819e923a9" class="suite has-tests has-passed">
            <h3 class="suite-title">team name change request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="1a3d44ff-ea2a-4515-996a-d11819e923a9" class="suite-chart" width="50" height="50" data-total-passes="11" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">330 ms</li>
                <li class="suite-summary-item tests">11</li>
                <li class="suite-summary-item passed">11</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#1a3d44ff-ea2a-4515-996a-d11819e923a9-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="1a3d44ff-ea2a-4515-996a-d11819e923a9-test-list" class="list-group test-list collapse in">
                    <div id="e63ec852-3370-47d3-836d-671dc0b94d54" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e63ec852-3370-47d3-836d-671dc0b94d54 > .test-code.collapse">Code</button>
              <span class="test-duration fast">28 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            session.teams.all[<span class="hljs-number">0</span>].teamName.should.equal(<span class="hljs-string">'New team name'</span>);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="78be06b8-9c32-49c0-9d8f-2016fef1e8dd" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when team name is already used
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#78be06b8-9c32-49c0-9d8f-2016fef1e8dd > .test-code.collapse">Code</button>
              <span class="test-duration fast">34 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">2</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        <span class="hljs-keyword">var</span> contestant = session.contestants[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">var</span> team = session.teams.getByContestant(contestant);<br>        <span class="hljs-keyword">var</span> otherTeam = session.teams.all.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) </span>{<br>            <span class="hljs-keyword">return</span> t !== team;<br>        })[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = otherTeam.teamName;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_IN_USE);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c225fc47-9351-4829-a4d3-382a003f4951" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when team name is empty
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c225fc47-9351-4829-a4d3-382a003f4951 > .test-code.collapse">Code</button>
              <span class="test-duration fast">29 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        <span class="hljs-keyword">var</span> contestant = session.contestants[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">var</span> team = session.teams.getByContestant(contestant);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">' '</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_REQUEST_AS_TEAM_NAME_EMPTY);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="feef00ad-6ba2-4578-9ed0-41e7697b383d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when team name does not change
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#feef00ad-6ba2-4578-9ed0-41e7697b383d > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        <span class="hljs-keyword">var</span> contestant = session.contestants[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">var</span> team = session.teams.getByContestant(contestant);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = team.teamName;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e8495e77-cdda-4e67-97f5-a3229979e669" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when not team leader
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e8495e77-cdda-4e67-97f5-a3229979e669 > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_REQUEST_NOT_CONTESTANT_TEAM_OR_TEAM_LEADER);<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            session.teams.all[<span class="hljs-number">0</span>].teamName.should.not.equal(<span class="hljs-string">'New team name'</span>);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="520c9e7b-945e-4849-8326-e1770bca7a18" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#520c9e7b-945e-4849-8326-e1770bca7a18 > .test-code.collapse">Code</button>
              <span class="test-duration fast">36 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = idUtility.generateSessionId();<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0a76c913-f995-4b9f-85c2-6d15231087ac" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0a76c913-f995-4b9f-85c2-6d15231087ac > .test-code.collapse">Code</button>
              <span class="test-duration medium">47 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = idUtility.generateParticipantId();<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_REQUEST_NOT_CONTESTANT_TEAM_OR_TEAM_LEADER);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b2b710e0-4146-4caa-93da-315e88172f6c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b2b710e0-4146-4caa-93da-315e88172f6c > .test-code.collapse">Code</button>
              <span class="test-duration fast">29 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.complete();<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6a056d2b-8f8b-4b2b-8e82-a34e862b1d9f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when setting do not allow it
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6a056d2b-8f8b-4b2b-8e82-a34e862b1d9f > .test-code.collapse">Code</button>
              <span class="test-duration fast">27 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.MANUAL;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_SETTINGS_NOT_ALLOW);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="02121909-d00b-4560-a5ad-2e47f43c55db" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when team name contains profanity
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#02121909-d00b-4560-a5ad-2e47f43c55db > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'The word penis is funny #YOLO'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>            em.should.not.be.null();<br>            em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_CONTAINS_PROFANITY);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="93614037-dcdd-49d3-a774-f4979aef3a0a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers when accepted
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#93614037-dcdd-49d3-a774-f4979aef3a0a > .test-code.collapse">Code</button>
              <span class="test-duration fast">26 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-comment">// Join</span><br>    <span class="hljs-keyword">var</span> rqm = messageFactory.create(messageConstants.CONTESTANT_JOIN_REQUEST);<br>    rqm.sessionId = sessionId;<br>    rqm.username = <span class="hljs-string">'Test Person'</span>;<br>    cc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.teams &amp;&amp; om.gameState.teams.length) {<br>            <span class="hljs-keyword">if</span> (om.gameState.teams[<span class="hljs-number">0</span>].teamName === <span class="hljs-string">'New team name'</span>) {<br>                done();<br>            }<br>        }<br>    });<br>    cc.emit(messageConstants.CONTESTANT_JOIN_REQUEST, rqm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.CONTESTANT_JOIN_RESPONSE);<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.contestantId = rm.contestantId;<br>        req.teamName = <span class="hljs-string">'New team name'</span>;<br>        cc.emit(messageConstants.SET_TEAM_NAME_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>            sm.should.not.be.null();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="2022c2db-5360-46ed-86dd-8c3c639102d0" class="suite has-tests has-passed">
            <h3 class="suite-title">info request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerContestantTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="2022c2db-5360-46ed-86dd-8c3c639102d0" class="suite-chart" width="50" height="50" data-total-passes="5" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">129 ms</li>
                <li class="suite-summary-item tests">5</li>
                <li class="suite-summary-item passed">5</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#2022c2db-5360-46ed-86dd-8c3c639102d0-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="2022c2db-5360-46ed-86dd-8c3c639102d0-test-list" class="list-group test-list collapse in">
                    <div id="cbce2f70-d797-4a3d-b7de-90b10863d5ad" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for individuals contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#cbce2f70-d797-4a3d-b7de-90b10863d5ad > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = contestantId;<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>            irm.should.not.be.null();<br>            should(irm.info).not.be.null();<br>            should(irm.info.host).be.null();<br>            should(irm.info.contestant).not.be.null();<br>            should(irm.info.team).be.null();<br>            should(irm.info.session).not.be.null();<br>            should(irm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>            should(irm.info.isObserver).be.false();<br>            should(irm.info.isHost).be.false();<br>            should(irm.info.isContestant).be.true();<br>            should(irm.info.isSessionCompleted).be.false();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c91a90c7-31a8-41e2-947c-d3e2f08fe388" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for teams contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c91a90c7-31a8-41e2-947c-d3e2f08fe388 > .test-code.collapse">Code</button>
              <span class="test-duration fast">29 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">3</span>;<br>s.teamSize = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = contestantId;<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> rm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>            rm.should.not.be.null();<br>            should(rm.info).not.be.null();<br>            should(rm.info.host).be.null();<br>            should(rm.info.contestant).not.be.null();<br>            should(rm.info.team).not.be.null();<br>            should(rm.info.session).not.be.null();<br>            should(rm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>            should(rm.info.isObserver).be.false();<br>            should(rm.info.isHost).be.false();<br>            should(rm.info.isContestant).be.true();<br>            should(rm.info.isSessionCompleted).be.false();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d8ca5b4d-29f5-4419-af41-55e3c7e562c9" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d8ca5b4d-29f5-4419-af41-55e3c7e562c9 > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = idUtility.generateSessionId();<br>        req.participantId = contestantId;<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>            em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="306cad08-21f1-41da-9a79-b5b21226a2e7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#306cad08-21f1-41da-9a79-b5b21226a2e7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">28 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = idUtility.generateParticipantId();<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>            em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_CONTESTANT_OR_HOST_NOT_FOUND);<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="dd25f269-d3e5-4b6c-8525-614c19714755" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#dd25f269-d3e5-4b6c-8525-614c19714755 > .test-code.collapse">Code</button>
              <span class="test-duration fast">23 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> contestantId = rm.contestantId;<br>        <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>        req.sessionId = sessionId;<br>        req.participantId = contestantId;<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.complete();<br>        cc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>            irm.should.not.be.null();<br>            done();<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="991684f9-ded6-4e4f-bf4e-b83c0e144794" class="suite has-suites">
            <h3 class="suite-title">Buzzer server</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="c78348da-3941-421f-83b9-34d26d90c061" class="suite has-suites">
            <h3 class="suite-title">host</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="ca0d853f-f383-42da-8f2e-06d2b3434988" class="suite has-suites">
            <h3 class="suite-title">create</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="0c79f9f0-dc49-4738-a908-bef66e831b56" class="suite has-tests has-passed">
            <h3 class="suite-title">session</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="0c79f9f0-dc49-4738-a908-bef66e831b56" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">37 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#0c79f9f0-dc49-4738-a908-bef66e831b56-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="0c79f9f0-dc49-4738-a908-bef66e831b56-test-list" class="list-group test-list collapse in">
                    <div id="b171ffb9-2e71-4c0e-b375-6a6e3605c5c2" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid and create a session
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b171ffb9-2e71-4c0e-b375-6a6e3605c5c2 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test Session'</span>;<br><span class="hljs-keyword">var</span> csm = messageFactory.create(messageConstants.CREATE_SESSION);<br>csm.settings = s;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>c.emit(messageConstants.CREATE_SESSION, csm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    m.should.be.Object();<br>    m.type.should.equal(messageConstants.CREATE_SESSION_RESPONSE);<br>    helper.sessions.all.length.should.equal(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    <span class="hljs-keyword">var</span> rsm = messageFactory.restore(m, messageConstants.CREATE_SESSION_RESPONSE);<br>    rsm.sessionId.should.equal(session.id);<br>    rsm.hostId.should.equal(session.host.id);<br>    done();<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="fe4e1474-4eb8-4475-95cb-781215b7c165" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe host to the observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#fe4e1474-4eb8-4475-95cb-781215b7c165 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br><span class="hljs-comment">// listen for observer update</span><br>c.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>    om.should.not.be.null();<br>    done();<br>});<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    rm.should.not.be.null();<br>    <span class="hljs-comment">// force observer update</span><br>    helper.forceObserveUpdate(rm.sessionId);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d00a889b-bbe3-441e-b946-ebf6a3b7a64f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when settings are not valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d00a889b-bbe3-441e-b946-ebf6a3b7a64f > .test-code.collapse">Code</button>
              <span class="test-duration fast">11 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">var</span> [r, e] = s.validate();<br>r.should.be.false();<br><span class="hljs-keyword">var</span> csm = messageFactory.create(messageConstants.CREATE_SESSION);<br>csm.settings = s;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>c.emit(messageConstants.CREATE_SESSION, csm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    m.should.be.Object();<br>    m.type.should.equal(messageConstants.ERROR);<br>    helper.sessions.all.length.should.equal(<span class="hljs-number">0</span>);<br>    done();<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="affbcd18-8225-4469-9df8-e40e0772a9e0" class="suite has-suites">
            <h3 class="suite-title">rejoin</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="7f92277e-cb70-477f-92f2-45443f929602" class="suite has-tests has-passed">
            <h3 class="suite-title">session</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="7f92277e-cb70-477f-92f2-45443f929602" class="suite-chart" width="50" height="50" data-total-passes="6" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">185 ms</li>
                <li class="suite-summary-item tests">6</li>
                <li class="suite-summary-item passed">6</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#7f92277e-cb70-477f-92f2-45443f929602-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="7f92277e-cb70-477f-92f2-45443f929602-test-list" class="list-group test-list collapse in">
                    <div id="307937bd-3ac7-47d4-b08f-31593edcb74e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#307937bd-3ac7-47d4-b08f-31593edcb74e > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{<br>        data.type.should.equal(messageConstants.SUCCESS);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="bd6d47c9-311f-493f-b95e-abf95e2fad79" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should subscribe host to observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#bd6d47c9-311f-493f-b95e-abf95e2fad79 > .test-code.collapse">Code</button>
              <span class="test-duration fast">34 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    <span class="hljs-comment">// listen for observer update</span><br>    c.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{<br>        data.type.should.equal(messageConstants.SUCCESS);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="376861b9-ae14-4a8e-acd6-0874812b3f50" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when host id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#376861b9-ae14-4a8e-acd6-0874812b3f50 > .test-code.collapse">Code</button>
              <span class="test-duration medium">48 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = idUtility.generateParticipantId();<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_REJOIN_NOT_HOST);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="eddf214e-e2b5-42c4-828e-76fc6bba464d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#eddf214e-e2b5-42c4-828e-76fc6bba464d > .test-code.collapse">Code</button>
              <span class="test-duration fast">24 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = idUtility.generateSessionId();<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="bc25617a-7410-4716-9f50-bdce6910e588" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#bc25617a-7410-4716-9f50-bdce6910e588 > .test-code.collapse">Code</button>
              <span class="test-duration fast">33 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a008911c-0dd2-4557-a4e5-9d1526372092" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should flag host as not disconnected
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a008911c-0dd2-4557-a4e5-9d1526372092 > .test-code.collapse">Code</button>
              <span class="test-duration fast">22 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    c.disconnect();<br>    c = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.participantId = rm.hostId;<br>    rjm.rejoinAs = constants.rejoinAs.HOST;<br>    c.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{<br>        data.type.should.equal(messageConstants.SUCCESS);<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.host.isDisconnected.should.be.false();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="38d59931-992d-4c82-aa78-bcf0cca4e837" class="suite has-suites">
            <h3 class="suite-title">complete</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="295abe8c-0a7e-44c3-8ee7-cd7f5e88ee3c" class="suite has-tests has-passed">
            <h3 class="suite-title">session</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="295abe8c-0a7e-44c3-8ee7-cd7f5e88ee3c" class="suite-chart" width="50" height="50" data-total-passes="5" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">75 ms</li>
                <li class="suite-summary-item tests">5</li>
                <li class="suite-summary-item passed">5</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#295abe8c-0a7e-44c3-8ee7-cd7f5e88ee3c-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="295abe8c-0a7e-44c3-8ee7-cd7f5e88ee3c-test-list" class="list-group test-list collapse in">
                    <div id="36bb89b2-a377-4c9c-919a-35ab0eb32b28" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#36bb89b2-a377-4c9c-919a-35ab0eb32b28 > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = rm.hostId;<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        rm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="66e0fb1a-5aec-4acf-a16c-11e10ae64f66" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when host id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#66e0fb1a-5aec-4acf-a16c-11e10ae64f66 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = idUtility.generateParticipantId();<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.COULD_NOT_COMPLETE_SESSION_NOT_HOST);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="d683fcf1-166c-4cc2-9bd8-aaa4851e94f0" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#d683fcf1-166c-4cc2-9bd8-aaa4851e94f0 > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = idUtility.generateSessionId();<br>    scm.hostId = rm.hostId;<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="01e8bbb6-0272-4b0b-b059-9dc7f1c849ff" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is already completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#01e8bbb6-0272-4b0b-b059-9dc7f1c849ff > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.getLatestSession().complete();<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = rm.hostId;<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.ERROR);<br>        rm.should.not.be.null();<br>        rm.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3ecda727-4867-40c5-a8d3-77a1e6ca19d8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should notify observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3ecda727-4867-40c5-a8d3-77a1e6ca19d8 > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> scm = messageFactory.create(messageConstants.SESSION_COMPLETE);<br>    scm.sessionId = rm.sessionId;<br>    scm.hostId = rm.hostId;<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>        om.should.not.be.null();<br>        done();<br>    });<br>    hc.emit(messageConstants.SESSION_COMPLETE, scm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> rm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        rm.should.not.be.null();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="09569c59-88f9-47cd-aba3-6f5f9075d673" class="suite has-suites">
            <h3 class="suite-title">buzzer</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
        
              <section class="suite-wrap">
          <div id="9dcb3e73-bb16-48d1-9cba-c0d7c66437e5" class="suite has-suites has-tests has-passed">
            <h3 class="suite-title">action</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="9dcb3e73-bb16-48d1-9cba-c0d7c66437e5" class="suite-chart" width="50" height="50" data-total-passes="12" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">305 ms</li>
                <li class="suite-summary-item tests">12</li>
                <li class="suite-summary-item passed">12</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#9dcb3e73-bb16-48d1-9cba-c0d7c66437e5-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="9dcb3e73-bb16-48d1-9cba-c0d7c66437e5-test-list" class="list-group test-list collapse in">
                    <div id="3d9d89db-dfab-40ac-8a86-08b1c4073a23" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow accept when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3d9d89db-dfab-40ac-8a86-08b1c4073a23 > .test-code.collapse">Code</button>
              <span class="test-duration medium">39 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                messageFactory.restore(m, messageConstants.SUCCESS);<br>                helper.getLatestSession().currentState.should<br>                    .equal(constants.gameStates.PENDING);<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> sm = messageFactory.restore(<br>                            rm, messageConstants.SUCCESS<br>                        );<br>                        sm.should.not.be.null();<br>                        helper.getLatestSession().currentState<br>                            .should.equal(constants.gameStates<br>                                .READY);<br>                        helper.getLatestSession().roundWinner<br>                            .should.equal(<span class="hljs-string">'username'</span>);<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e2fc632a-a891-4f86-9016-94e088696efc" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reject when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e2fc632a-a891-4f86-9016-94e088696efc > .test-code.collapse">Code</button>
              <span class="test-duration medium">45 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                messageFactory.restore(m, messageConstants.SUCCESS);<br>                helper.getLatestSession().currentState.should<br>                    .equal(constants.gameStates.PENDING);<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .REJECT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> sm = messageFactory.restore(<br>                            rm, messageConstants.SUCCESS<br>                        );<br>                        sm.should.not.be.null();<br>                        helper.getLatestSession().currentState<br>                            .should.equal(constants.gameStates<br>                                .READY);<br>                        should(helper.getLatestSession()<br>                            .roundWinner).be.null();<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="a8324016-33b5-4082-aafc-66d63ebcc7d4" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reset when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#a8324016-33b5-4082-aafc-66d63ebcc7d4 > .test-code.collapse">Code</button>
              <span class="test-duration fast">12 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.RESET;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="eecfc99a-ec35-4ecf-8930-b4cd2d698262" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow disable when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#eecfc99a-ec35-4ecf-8930-b4cd2d698262 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId, constants.buzzerActionCommands<br>        .DISABLE,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>            sm.should.be.instanceOf(successMessage);<br>            helper.getLatestSession().currentState.should.equal(<br>                constants.gameStates.BUZZER_LOCK);<br>            done();<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1e580ce0-465a-4101-aedb-98bacb727976" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow enable when valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1e580ce0-465a-4101-aedb-98bacb727976 > .test-code.collapse">Code</button>
              <span class="test-duration fast">21 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId, constants.buzzerActionCommands<br>        .DISABLE,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>            sm.should.be.instanceOf(successMessage);<br>            helper.getLatestSession().currentState.should.equal(<br>                constants.gameStates.BUZZER_LOCK);<br>            helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId,<br>                constants.buzzerActionCommands.ENABLE,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>                    sm.should.be.instanceOf(successMessage);<br>                    helper.getLatestSession().currentState.should<br>                        .equal(constants.gameStates.READY);<br>                    done();<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="c0575dd0-c90c-497e-928c-ef186023f642" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow accept when state is not pending
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c0575dd0-c90c-497e-928c-ef186023f642 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.ACCEPT;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3b7a3cba-2698-4eae-a954-5b1bd8618a79" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow reject when state is not pending
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3b7a3cba-2698-4eae-a954-5b1bd8618a79 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.REJECT;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="840ed273-2fa1-4021-9bf6-712e56534240" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reset when game state is ready
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#840ed273-2fa1-4021-9bf6-712e56534240 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hrm = messageFactory.create(messageConstants.BUZZER_ACTION_COMMAND);<br>    hrm.sessionId = rm.sessionId;<br>    hrm.hostId = rm.hostId;<br>    hrm.action = constants.buzzerActionCommands.RESET;<br>    hc.emit(messageConstants.BUZZER_ACTION_COMMAND, hrm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="3cdc9603-de1d-417f-bf6e-e6115519481b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow reset when game state is pending
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#3cdc9603-de1d-417f-bf6e-e6115519481b > .test-code.collapse">Code</button>
              <span class="test-duration fast">34 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                messageFactory.restore(m, messageConstants.SUCCESS);<br>                helper.getLatestSession().currentState.should<br>                    .equal(constants.gameStates.PENDING);<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .RESET;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> sm = messageFactory.restore(<br>                            rm, messageConstants.SUCCESS<br>                        );<br>                        sm.should.not.be.null();<br>                        helper.getLatestSession().currentState<br>                            .should.equal(constants.gameStates<br>                                .READY);<br>                        should.not.exist(helper.getLatestSession()<br>                            .roundWinner);<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="41be2b17-e84a-4fc2-b4df-ee0e2cd25a64" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow response when host id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#41be2b17-e84a-4fc2-b4df-ee0e2cd25a64 > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = idUtility.generateParticipantId();<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> em = messageFactory.restore(<br>                            rm, messageConstants.ERROR<br>                        );<br>                        em.error.should.equal(constants<br>                            .messages.COULD_NOT_ACCEPT_REQUEST_NOT_HOST<br>                        );<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e7234d70-3a74-4808-9a38-92c5b9db203f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow response when session id is invalid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e7234d70-3a74-4808-9a38-92c5b9db203f > .test-code.collapse">Code</button>
              <span class="test-duration medium">42 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = idUtility.generateSessionId();<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> em = messageFactory.restore(<br>                            rm, messageConstants.ERROR<br>                        );<br>                        em.error.should.equal(constants<br>                            .messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED<br>                        );<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="5e52abc7-8815-4882-a559-78272e61ba51" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow response when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5e52abc7-8815-4882-a559-78272e61ba51 > .test-code.collapse">Code</button>
              <span class="test-duration fast">28 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> bpm = messageFactory.create(messageConstants.CONTESTANT_BUZZER_PRESS);<br>        bpm.sessionId = sessionId;<br>        bpm.contestantId = rm.contestantId;<br>        cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS, bpm,<br>            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                    messageConstants.BUZZER_ACTION_COMMAND<br>                );<br>                hrm.sessionId = sessionId;<br>                hrm.hostId = hostId;<br>                hrm.action = constants.buzzerActionCommands<br>                    .ACCEPT;<br>                helper.getLatestSession().complete();<br>                hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                    hrm,<br>                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>                        <span class="hljs-keyword">var</span> em = messageFactory.restore(<br>                            rm, messageConstants.ERROR<br>                        );<br>                        em.error.should.equal(constants<br>                            .messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED<br>                        );<br>                        done();<br>                    });<br>            });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
              <section class="suite-wrap">
          <div id="b2df11b7-d901-41c5-8bae-145c5f402214" class="suite has-tests has-passed">
            <h3 class="suite-title">when accepted</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="b2df11b7-d901-41c5-8bae-145c5f402214" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">98 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#b2df11b7-d901-41c5-8bae-145c5f402214-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="b2df11b7-d901-41c5-8bae-145c5f402214-test-list" class="list-group test-list collapse in">
                    <div id="73130efc-ef7c-4f13-8b09-42db0b88db8c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#73130efc-ef7c-4f13-8b09-42db0b88db8c > .test-code.collapse">Code</button>
              <span class="test-duration fast">33 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m,<br>            messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.contestants.length &amp;&amp; om.gameState<br>            .contestants[<span class="hljs-number">0</span>].score === <span class="hljs-number">1</span>) {<br>            done();<br>        }<br>    });<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .ACCEPT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="1977038e-4cd7-4e7f-a602-2864b4017e23" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#1977038e-4cd7-4e7f-a602-2864b4017e23 > .test-code.collapse">Code</button>
              <span class="test-duration fast">30 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .ACCEPT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">1</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b7295b0f-1757-4439-99a0-6e5eb44b6f90" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b7295b0f-1757-4439-99a0-6e5eb44b6f90 > .test-code.collapse">Code</button>
              <span class="test-duration fast">35 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .ACCEPT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">1</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">1</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="000a707b-6fe4-4b7f-9bea-d03582cbd091" class="suite has-tests has-passed">
            <h3 class="suite-title">when rejected</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="000a707b-6fe4-4b7f-9bea-d03582cbd091" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">98 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#000a707b-6fe4-4b7f-9bea-d03582cbd091-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="000a707b-6fe4-4b7f-9bea-d03582cbd091-test-list" class="list-group test-list collapse in">
                    <div id="c981f0b0-a7da-4707-93a2-6eff649cf144" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#c981f0b0-a7da-4707-93a2-6eff649cf144 > .test-code.collapse">Code</button>
              <span class="test-duration fast">29 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> observedPending = <span class="hljs-literal">false</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m,<br>            messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.currentState === constants<br>            .gameStates.PENDING) {<br>            observedPending = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">return</span>;<br>        }<br>        <span class="hljs-keyword">if</span> (observedPending &amp;&amp; om.gameState.currentState ===<br>            constants.gameStates.READY) {<br>            om.gameState.contestants.length.should.equal(<br>                <span class="hljs-number">1</span>);<br>            om.gameState.contestants[<span class="hljs-number">0</span>].score.should<br>                .equal(<span class="hljs-number">0</span>);<br>            done();<br>        }<br>    });<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .REJECT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="386fa624-ba7e-4487-86dd-be01b20056d3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#386fa624-ba7e-4487-86dd-be01b20056d3 > .test-code.collapse">Code</button>
              <span class="test-duration medium">40 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .REJECT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="805e1643-e2b7-4a0a-8dfb-dc1a95415d35" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#805e1643-e2b7-4a0a-8dfb-dc1a95415d35 > .test-code.collapse">Code</button>
              <span class="test-duration fast">29 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .REJECT;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="b7f7edf8-b2bf-45d5-be3c-2eb3ccaa4687" class="suite has-tests has-passed">
            <h3 class="suite-title">when reset</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="b7f7edf8-b2bf-45d5-be3c-2eb3ccaa4687" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">96 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#b7f7edf8-b2bf-45d5-be3c-2eb3ccaa4687-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="b7f7edf8-b2bf-45d5-be3c-2eb3ccaa4687-test-list" class="list-group test-list collapse in">
                    <div id="7121c406-c638-4405-805a-e84ce4f19a54" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7121c406-c638-4405-805a-e84ce4f19a54 > .test-code.collapse">Code</button>
              <span class="test-duration fast">32 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    <span class="hljs-keyword">var</span> observedPending = <span class="hljs-literal">false</span>;<br>    <span class="hljs-comment">// listen for observer update</span><br>    hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> om = messageFactory.restore(m,<br>            messageConstants.OBSERVER_UPDATE);<br>        <span class="hljs-keyword">if</span> (om.gameState.currentState === constants<br>            .gameStates.PENDING) {<br>            observedPending = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">return</span>;<br>        }<br>        <span class="hljs-keyword">if</span> (observedPending &amp;&amp; om.gameState.currentState ===<br>            constants.gameStates.READY) {<br>            om.gameState.contestants.length.should.equal(<br>                <span class="hljs-number">1</span>);<br>            om.gameState.contestants[<span class="hljs-number">0</span>].score.should<br>                .equal(<span class="hljs-number">0</span>);<br>            done();<br>        }<br>    });<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            helper.contestantBuzzerPress(cc, sessionId,<br>                rm.contestantId,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>                    helper.hostBuzzerAction(hc,<br>                        sessionId, hostId,<br>                        constants.buzzerActionCommands<br>                        .RESET);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b2b1c482-f8fa-448c-b1dc-67edf96608c3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b2b1c482-f8fa-448c-b1dc-67edf96608c3 > .test-code.collapse">Code</button>
              <span class="test-duration fast">33 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .RESET;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6a0bd6be-c378-4481-b5b1-ba04cc01bd4c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6a0bd6be-c378-4481-b5b1-ba04cc01bd4c > .test-code.collapse">Code</button>
              <span class="test-duration fast">31 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .RESET;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="080fa097-ebff-480e-a65d-4ecfbd17f9ec" class="suite has-tests has-passed">
            <h3 class="suite-title">when disabled</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="080fa097-ebff-480e-a65d-4ecfbd17f9ec" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">85 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#080fa097-ebff-480e-a65d-4ecfbd17f9ec-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="080fa097-ebff-480e-a65d-4ecfbd17f9ec-test-list" class="list-group test-list collapse in">
                    <div id="90f7a01e-ba80-41c4-b5e6-1bfe1d97f8cc" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#90f7a01e-ba80-41c4-b5e6-1bfe1d97f8cc > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br><span class="hljs-comment">// listen for observer update</span><br>hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>    <span class="hljs-keyword">if</span> (om.gameState.currentState === constants.gameStates.BUZZER_LOCK) {<br>        done();<br>    }<br>});<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId,<br>        constants.buzzerActionCommands.DISABLE);<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9da93100-375f-4a2e-8fee-604821c0386b" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update contestant score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9da93100-375f-4a2e-8fee-604821c0386b > .test-code.collapse">Code</button>
              <span class="test-duration medium">41 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .DISABLE;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="8ec11925-7027-4951-91c1-cb24f8cebcb7" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not update team score
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8ec11925-7027-4951-91c1-cb24f8cebcb7 > .test-code.collapse">Code</button>
              <span class="test-duration fast">31 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> cc = helper.createClient();<br>    helper.contestantJoin(cc, <span class="hljs-string">'username'</span>, sessionId,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>            <span class="hljs-keyword">var</span> bpm = messageFactory.create(<br>                messageConstants.CONTESTANT_BUZZER_PRESS<br>            );<br>            bpm.sessionId = sessionId;<br>            bpm.contestantId = rm.contestantId;<br>            cc.emit(messageConstants.CONTESTANT_BUZZER_PRESS,<br>                bpm,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    messageFactory.restore(m,<br>                        messageConstants.SUCCESS<br>                    );<br>                    <span class="hljs-keyword">var</span> hrm = messageFactory.create(<br>                        messageConstants.BUZZER_ACTION_COMMAND<br>                    );<br>                    hrm.sessionId = sessionId;<br>                    hrm.hostId = hostId;<br>                    hrm.action = constants.buzzerActionCommands<br>                        .DISABLE;<br>                    hc.emit(messageConstants.BUZZER_ACTION_COMMAND,<br>                        hrm,<br>                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                            messageFactory.restore(<br>                                m,<br>                                messageConstants<br>                                .SUCCESS);<br>                            <span class="hljs-keyword">var</span> s = helper.getLatestSession();<br>                            <span class="hljs-keyword">var</span> c = s.contestants[<br>                                <span class="hljs-number">0</span>];<br>                            c.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            <span class="hljs-keyword">var</span> t = s.teams.all[<br>                                <span class="hljs-number">0</span>];<br>                            t.score.should.equal(<br>                                <span class="hljs-number">0</span>);<br>                            done();<br>                        });<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="aefb9d27-7e22-4db6-b88d-45ff43c708fe" class="suite has-tests has-passed">
            <h3 class="suite-title">when enabled</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="aefb9d27-7e22-4db6-b88d-45ff43c708fe" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">18 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#aefb9d27-7e22-4db6-b88d-45ff43c708fe-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="aefb9d27-7e22-4db6-b88d-45ff43c708fe-test-list" class="list-group test-list collapse in">
                    <div id="0517ce97-0425-48b9-9d50-2d0e2603564c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0517ce97-0425-48b9-9d50-2d0e2603564c > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br><span class="hljs-keyword">var</span> observedLocked = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// listen for observer update</span><br>hc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>    <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>    <span class="hljs-keyword">if</span> (om.gameState.currentState === constants.gameStates.BUZZER_LOCK) {<br>        observedLocked = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span>;<br>    }<br>    <span class="hljs-keyword">if</span> (observedLocked &amp;&amp; om.gameState.currentState ===<br>        constants.gameStates.READY) {<br>        done();<br>    }<br>});<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    helper.hostBuzzerAction(hc, rm.sessionId, rm.hostId,<br>        constants.buzzerActionCommands.DISABLE,<br>        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>            sm.should.be.instanceOf(successMessage);<br>            helper.getLatestSession().currentState.should<br>                .equal(constants.gameStates.BUZZER_LOCK);<br>            helper.hostBuzzerAction(hc, rm.sessionId,<br>                rm.hostId, constants.buzzerActionCommands<br>                .ENABLE,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sm</span>) </span>{<br>                    sm.should.be.instanceOf(<br>                        successMessage);<br>                    helper.getLatestSession().currentState<br>                        .should.equal(constants.gameStates<br>                            .READY);<br>                });<br>        });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="081a7280-ce42-4743-9e35-e422eaaf8f61" class="suite has-tests has-passed">
            <h3 class="suite-title">team name change</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="081a7280-ce42-4743-9e35-e422eaaf8f61" class="suite-chart" width="50" height="50" data-total-passes="8" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">116 ms</li>
                <li class="suite-summary-item tests">8</li>
                <li class="suite-summary-item passed">8</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#081a7280-ce42-4743-9e35-e422eaaf8f61-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="081a7280-ce42-4743-9e35-e422eaaf8f61-test-list" class="list-group test-list collapse in">
                    <div id="8df696fe-bf01-440c-83c0-b277002f2cb3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#8df696fe-bf01-440c-83c0-b277002f2cb3 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'The new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        team.teamName.should.equal(req.teamNameTo);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="670ab035-45a5-4e0c-882d-7eedd5d53480" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when name contains profanity
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#670ab035-45a5-4e0c-882d-7eedd5d53480 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'ash0le penis'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        team.teamName.should.equal(req.teamNameTo);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="6ab6a2be-9791-43d5-b3c5-4a604a71b07a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when team name editing is manual
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6ab6a2be-9791-43d5-b3c5-4a604a71b07a > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.MANUAL;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'The new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(m, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        team.teamName.should.equal(req.teamNameTo);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="254b4e42-9a38-441c-8b26-c878a32dc1ce" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#254b4e42-9a38-441c-8b26-c878a32dc1ce > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    session.complete();<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'A new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="08d52690-dc4d-432e-ad41-74e2cb296560" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when not the host
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#08d52690-dc4d-432e-ad41-74e2cb296560 > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = idUtility.generateParticipantId();<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'A new team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_REQUEST_NOT_HOST);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="84e161b0-05cb-4f6f-bff0-8430d3f7362a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it team does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#84e161b0-05cb-4f6f-bff0-8430d3f7362a > .test-code.collapse">Code</button>
              <span class="test-duration fast">13 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = <span class="hljs-string">'does not exist'</span>;<br>    req.teamNameTo = <span class="hljs-string">'some other team name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_TEAM_NOT_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="7de4137b-2e70-47b9-bc63-afb7517508a3" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when team name already in use
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7de4137b-2e70-47b9-bc63-afb7517508a3 > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">2</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team1 = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> team2 = session.teams.all[<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamNameFrom = team1.teamName;<br>    req.teamNameTo = team2.teamName;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_TEAM_NAME_IN_USE);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="7127d366-7ffc-4383-9438-8a6aec74074a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#7127d366-7ffc-4383-9438-8a6aec74074a > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">2</span>;<br>s.teamSize = <span class="hljs-number">1</span>;<br>s.teamNameEdit = constants.teamNameEdit.ALLOW;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE);<br>    req.sessionId = idUtility.generateSessionId();<br>    req.hostId = hostId;<br>    req.teamNameFrom = team.teamName;<br>    req.teamNameTo = <span class="hljs-string">'some new name'</span>;<br>    hc.emit(messageConstants.HOST_TEAM_NAME_UPDATE_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="34049a47-99b3-4ae0-8993-ae7531d99bd1" class="suite has-tests has-passed">
            <h3 class="suite-title">team leader change</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="34049a47-99b3-4ae0-8993-ae7531d99bd1" class="suite-chart" width="50" height="50" data-total-passes="7" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">311 ms</li>
                <li class="suite-summary-item tests">7</li>
                <li class="suite-summary-item passed">7</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#34049a47-99b3-4ae0-8993-ae7531d99bd1-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="34049a47-99b3-4ae0-8993-ae7531d99bd1-test-list" class="list-group test-list collapse in">
                    <div id="50e05194-bc66-4945-94d4-259dc1f6e2a8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it when request is valid
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#50e05194-bc66-4945-94d4-259dc1f6e2a8 > .test-code.collapse">Code</button>
              <span class="test-duration medium">56 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> teamLeaderUsername = team.teamLeader.username;<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> sm = messageFactory.restore(m,<br>                        messageConstants.SUCCESS);<br>                    sm.should.not.be.null();<br>                    team.teamLeader.username.should.not.equal(<br>                        teamLeaderUsername);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="88224cd3-8420-4216-a85d-88fd5be75804" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow it team leader is the same
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#88224cd3-8420-4216-a85d-88fd5be75804 > .test-code.collapse">Code</button>
              <span class="test-duration medium">56 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> teamLeaderUsername = team.teamLeader.username;<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> sm = messageFactory.restore(m,<br>                        messageConstants.SUCCESS);<br>                    sm.should.not.be.null();<br>                    team.teamLeader.username.should.equal(<br>                        teamLeaderUsername);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="dd97d16f-c0d5-484d-8cc8-1850ec059658" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#dd97d16f-c0d5-484d-8cc8-1850ec059658 > .test-code.collapse">Code</button>
              <span class="test-duration medium">39 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            session.complete();<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="82d06f8d-92eb-434b-8ee8-a6a05afdc070" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when not the host
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#82d06f8d-92eb-434b-8ee8-a6a05afdc070 > .test-code.collapse">Code</button>
              <span class="test-duration fast">37 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = idUtility.generateParticipantId();<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_REQUEST_NOT_HOST);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="76b1ea87-b0c9-425b-8140-8b3b9c31e43e" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it team does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#76b1ea87-b0c9-425b-8140-8b3b9c31e43e > .test-code.collapse">Code</button>
              <span class="test-duration medium">48 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = <span class="hljs-string">'does not exist team name'</span>;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_TEAM_NOT_FOUND);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9e47ee4d-dd70-4edb-92a8-ebb2747271a8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9e47ee4d-dd70-4edb-92a8-ebb2747271a8 > .test-code.collapse">Code</button>
              <span class="test-duration medium">40 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = idUtility.generateSessionId();<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = team.teamLeader.username ===<br>                <span class="hljs-string">'c1'</span> ? <span class="hljs-string">'c2'</span> : <span class="hljs-string">'c1'</span>;<br>            session.complete();<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="afe87d3a-39c1-4652-905c-3d77d336a23f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#afe87d3a-39c1-4652-905c-3d77d336a23f > .test-code.collapse">Code</button>
              <span class="test-duration fast">35 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.maxTeams = <span class="hljs-number">1</span>;<br>s.teamSize = <span class="hljs-number">2</span>;<br>s.teamLeaderSelectionMethod = constants.teamLeaderSelectionMethod.RANDOM;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> c1 = helper.createClient();<br>    <span class="hljs-keyword">var</span> c2 = helper.createClient();<br>    helper.contestantJoin(c1, <span class="hljs-string">'c1'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>        helper.contestantJoin(c2, <span class="hljs-string">'c2'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<br>            <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>            <span class="hljs-keyword">var</span> team = session.teams.all[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE);<br>            req.sessionId = sessionId;<br>            req.hostId = hostId;<br>            req.teamName = team.teamName;<br>            req.teamLeaderUsername = <span class="hljs-string">'does not exist'</span>;<br>            hc.emit(messageConstants.HOST_TEAM_LEADER_SET_REQUEST_MESSAGE,<br>                req,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>                    <span class="hljs-keyword">var</span> em = messageFactory.restore(m,<br>                        messageConstants.ERROR);<br>                    em.should.not.be.null();<br>                    em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_CONTESTANT_NOT_FOUND);<br>                    done();<br>                });<br>        });<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="6acfcb08-1d80-4258-8d8d-43bb57cec47a" class="suite has-tests has-passed">
            <h3 class="suite-title">settings update</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="6acfcb08-1d80-4258-8d8d-43bb57cec47a" class="suite-chart" width="50" height="50" data-total-passes="9" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">146 ms</li>
                <li class="suite-summary-item tests">9</li>
                <li class="suite-summary-item passed">9</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#6acfcb08-1d80-4258-8d8d-43bb57cec47a-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="6acfcb08-1d80-4258-8d8d-43bb57cec47a-test-list" class="list-group test-list collapse in">
                    <div id="5e40ba3b-5c9a-4292-889b-1311bfefff37" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#5e40ba3b-5c9a-4292-889b-1311bfefff37 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="176e8d62-aa58-4685-920a-e56ebfa178ac" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when not the host
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#176e8d62-aa58-4685-920a-e56ebfa178ac > .test-code.collapse">Code</button>
              <span class="test-duration fast">12 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = idUtility.generateParticipantId();<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.COULD_NOT_ACCEPT_REQUEST_NOT_HOST);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="89b3c704-ddf5-4eb5-bad1-79b2ef9a0914" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow it when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#89b3c704-ddf5-4eb5-bad1-79b2ef9a0914 > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = idUtility.generateSessionId();<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="9447c053-d30b-4285-bca4-7f1da0c8e59d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the session name
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#9447c053-d30b-4285-bca4-7f1da0c8e59d > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.sessionName.should.be.equal(<span class="hljs-string">'Test session X'</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0fa5c067-c048-4a62-b256-f69c7ff8041c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the max contestants
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0fa5c067-c048-4a62-b256-f69c7ff8041c > .test-code.collapse">Code</button>
              <span class="test-duration fast">14 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.maxContestants = <span class="hljs-number">6</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.maxContestants.should.equal(<span class="hljs-number">6</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="0fc92ef8-547d-4e20-a469-975ee4c5a677" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the max teams
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#0fc92ef8-547d-4e20-a469-975ee4c5a677 > .test-code.collapse">Code</button>
              <span class="test-duration fast">17 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxTeams = <span class="hljs-number">5</span>;<br>s.teamSize = <span class="hljs-number">5</span>;<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.maxTeams = <span class="hljs-number">6</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.maxTeams.should.equal(<span class="hljs-number">6</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="42015ae2-bb3e-48bb-9bee-9cb04b78ecd8" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the team size
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#42015ae2-bb3e-48bb-9bee-9cb04b78ecd8 > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxTeams = <span class="hljs-number">5</span>;<br>s.teamSize = <span class="hljs-number">5</span>;<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.teamSize = <span class="hljs-number">6</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.teamSize.should.equal(<span class="hljs-number">6</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="46e0a56c-1028-447a-b160-cb96fce5527d" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the session name, max teams and team size
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#46e0a56c-1028-447a-b160-cb96fce5527d > .test-code.collapse">Code</button>
              <span class="test-duration fast">16 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxTeams = <span class="hljs-number">5</span>;<br>s.teamSize = <span class="hljs-number">5</span>;<br>s.hasTeams = <span class="hljs-literal">true</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    req.teamSize = <span class="hljs-number">6</span>;<br>    req.maxTeams = <span class="hljs-number">6</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.sessionName.should.be.equal(<span class="hljs-string">'Test session X'</span>);<br>        session.settings.teamSize.should.equal(<span class="hljs-number">6</span>);<br>        session.settings.maxTeams.should.equal(<span class="hljs-number">6</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="66992212-d301-4c94-9bea-11042ee26208" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update the session name and max contestants
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#66992212-d301-4c94-9bea-11042ee26208 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br>s.sessionName = <span class="hljs-string">'Test session'</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.hostId = hostId;<br>    req.sessionName = <span class="hljs-string">'Test session X'</span>;<br>    req.maxContestants = <span class="hljs-number">6</span>;<br>    hc.emit(messageConstants.HOST_SETTINGS_UPDATE_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> sm = messageFactory.restore(rm, messageConstants.SUCCESS);<br>        sm.should.not.be.null();<br>        <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>        session.settings.sessionName.should.be.equal(<span class="hljs-string">'Test session X'</span>);<br>        session.settings.maxContestants.should.equal(<span class="hljs-number">6</span>);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="d16c193f-4bcb-4fa4-8016-2631e84718c6" class="suite has-tests has-passed">
            <h3 class="suite-title">info request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="d16c193f-4bcb-4fa4-8016-2631e84718c6" class="suite-chart" width="50" height="50" data-total-passes="4" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">65 ms</li>
                <li class="suite-summary-item tests">4</li>
                <li class="suite-summary-item passed">4</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#d16c193f-4bcb-4fa4-8016-2631e84718c6-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="d16c193f-4bcb-4fa4-8016-2631e84718c6-test-list" class="list-group test-list collapse in">
                    <div id="27cfae16-809c-41db-9047-7be64b61433f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for individuals contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#27cfae16-809c-41db-9047-7be64b61433f > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.participantId = hostId;<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        should(irm.info).not.be.null();<br>        should(irm.info.host).not.be.null();<br>        should(irm.info.contestant).be.null();<br>        should(irm.info.team).be.null();<br>        should(irm.info.session).not.be.null();<br>        should(irm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>        should(irm.info.isObserver).be.false();<br>        should(irm.info.isHost).be.true();<br>        should(irm.info.isContestant).be.false();<br>        should(irm.info.isSessionCompleted).be.false();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="b84502b5-fe66-4e18-adfa-84f158cbca70" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#b84502b5-fe66-4e18-adfa-84f158cbca70 > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = idUtility.generateSessionId();<br>    req.participantId = hostId;<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="95b7a91f-42d4-4733-b133-2a0158b06181" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when contestant does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#95b7a91f-42d4-4733-b133-2a0158b06181 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.participantId = idUtility.generateParticipantId();<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.COULD_NOT_PROCESS_REQUEST_CONTESTANT_OR_HOST_NOT_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="babade74-2353-45bb-b70e-32834d8d4573" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#babade74-2353-45bb-b70e-32834d8d4573 > .test-code.collapse">Code</button>
              <span class="test-duration fast">15 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> hostId = rm.hostId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    req.participantId = hostId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    hc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="2771e6fe-9984-4a03-9e6a-c707186fdcbe" class="suite has-tests has-passed">
            <h3 class="suite-title">on disconnect</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerHostTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="2771e6fe-9984-4a03-9e6a-c707186fdcbe" class="suite-chart" width="50" height="50" data-total-passes="1" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">25 ms</li>
                <li class="suite-summary-item tests">1</li>
                <li class="suite-summary-item passed">1</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#2771e6fe-9984-4a03-9e6a-c707186fdcbe-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="2771e6fe-9984-4a03-9e6a-c707186fdcbe-test-list" class="list-group test-list collapse in">
                    <div id="36c727f2-6b4a-4912-83ae-bd73a73c551a" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should update observers
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#36c727f2-6b4a-4912-83ae-bd73a73c551a > .test-code.collapse">Code</button>
              <span class="test-duration fast">25 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> c = helper.createClient();<br>    helper.contestantJoin(c, <span class="hljs-string">'test user'</span>, sessionId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-comment">// listen for observer update</span><br>        c.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>            <span class="hljs-keyword">var</span> om = messageFactory.restore(m, messageConstants.OBSERVER_UPDATE);<br>            <span class="hljs-keyword">if</span> (om.gameState.host.disconnected) {<br>                done();<br>                c.discount();<br>            }<br>        });<br>        helper.clients = [];<br>        <span class="hljs-comment">// disconnect host</span><br>        hc.disconnect();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
            <section class="suite-wrap">
          <div id="335c75cc-5284-4d04-af8c-df67cbf16173" class="suite has-suites">
            <h3 class="suite-title">Buzzer server</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
        
              <section class="suite-wrap">
          <div id="32faa71f-b7ee-4951-ac69-27556034b84e" class="suite has-suites">
            <h3 class="suite-title">observer</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
        
              <section class="suite-wrap">
          <div id="8071faab-2564-40fd-8e4b-f1b0c4d6a676" class="suite has-tests has-passed">
            <h3 class="suite-title">rejoin</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="8071faab-2564-40fd-8e4b-f1b0c4d6a676" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">64 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#8071faab-2564-40fd-8e4b-f1b0c4d6a676-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="8071faab-2564-40fd-8e4b-f1b0c4d6a676-test-list" class="list-group test-list collapse in">
                    <div id="41265968-c418-4803-800d-c578ce70e8fa" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when request is valid and subscribe observer to the observer room
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#41265968-c418-4803-800d-c578ce70e8fa > .test-code.collapse">Code</button>
              <span class="test-duration fast">21 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = rm.sessionId;<br>    rjm.rejoinAs = constants.rejoinAs.OBSERVER;<br>    <span class="hljs-comment">// listen for observer update</span><br>    oc.on(messageConstants.OBSERVER_UPDATE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{<br>        <span class="hljs-keyword">var</span> ob = messageFactory.restore(message, messageConstants.OBSERVER_UPDATE);<br>        ob.should.not.be.null();<br>        done();<br>    });<br>    oc.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{<br>        data.type.should.equal(messageConstants.SUCCESS);<br>        <span class="hljs-comment">// force observer update</span><br>        helper.forceObserveUpdate(rm.sessionId);<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e4ab4879-27ac-493d-962d-a68fc634dbff" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e4ab4879-27ac-493d-962d-a68fc634dbff > .test-code.collapse">Code</button>
              <span class="test-duration fast">23 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> ob = helper.createClient();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = idUtility.generateSessionId();<br>    rjm.rejoinAs = constants.rejoinAs.OBSERVER;<br>    ob.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="92affa3f-7fe0-4d65-9574-bc5a22a1ce2f" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session is completed
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#92affa3f-7fe0-4d65-9574-bc5a22a1ce2f > .test-code.collapse">Code</button>
              <span class="test-duration fast">20 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">var</span> c = helper.createClient();<br>helper.createSession(c, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> ob = helper.createClient();<br>    helper.getLatestSession().complete();<br>    <span class="hljs-comment">// rejoin</span><br>    <span class="hljs-keyword">var</span> rjm = messageFactory.create(messageConstants.REJOIN_SESSION);<br>    rjm.sessionId = idUtility.generateSessionId();<br>    rjm.rejoinAs = constants.rejoinAs.OBSERVER;<br>    ob.emit(messageConstants.REJOIN_SESSION, rjm, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(m, messageConstants.ERROR);<br>        em.should.not.be.null();<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND_OR_IS_COMPLETED);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
              <section class="suite-wrap">
          <div id="8695a318-f956-49ae-9c05-2626d2ce419e" class="suite has-tests has-passed">
            <h3 class="suite-title">info request</h3>
            <h5 class="suite-filename">/tests/Functional/lib/BuzzerServerObserverTests.js</h5>
            <!-- Suite Chart -->
            <div class="suite-chart-wrap">
              <canvas id="8695a318-f956-49ae-9c05-2626d2ce419e" class="suite-chart" width="50" height="50" data-total-passes="3" data-total-failures="0" data-total-pending="0" data-total-skipped="0"></canvas>
            </div>
            <div class="suite-data-wrap">
              <!-- Suite Summary -->
              <ul class="suite-summary list-unstyled">
                <li class="suite-summary-item duration">79 ms</li>
                <li class="suite-summary-item tests">3</li>
                <li class="suite-summary-item passed">3</li>
                <li class="suite-summary-item failed">0</li>
                <li class="suite-summary-item pending">0</li>
              </ul>
              <!-- Test Info -->
              <div class="suite-test-wrap">
                <div class="suite-test-header" data-toggle="collapse" data-target="#8695a318-f956-49ae-9c05-2626d2ce419e-test-list">
                  <h4 class="suite-test-header-title">Tests</h4>
                </div>
                <div id="8695a318-f956-49ae-9c05-2626d2ce419e-test-list" class="list-group test-list collapse in">
                    <div id="6878226c-2dd4-4771-8ab7-0bf13e4e513c" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should return in a valid state for individuals contestant
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#6878226c-2dd4-4771-8ab7-0bf13e4e513c > .test-code.collapse">Code</button>
              <span class="test-duration fast">34 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    oc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        should(irm.info).not.be.null();<br>        should(irm.info.host).be.null();<br>        should(irm.info.contestant).be.null();<br>        should(irm.info.team).be.null();<br>        should(irm.info.session).not.be.null();<br>        should(irm.info.sessionState).be.equal(<span class="hljs-string">'ready'</span>);<br>        should(irm.info.isObserver).be.true();<br>        should(irm.info.isHost).be.false();<br>        should(irm.info.isContestant).be.false();<br>        should(irm.info.isSessionCompleted).be.false();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="e07b453e-4af2-4ef9-908c-3ecfedb0bb65" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should not allow when session does not exist
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#e07b453e-4af2-4ef9-908c-3ecfedb0bb65 > .test-code.collapse">Code</button>
              <span class="test-duration fast">18 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = idUtility.generateSessionId();<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    oc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> em = messageFactory.restore(rm, messageConstants.ERROR);<br>        em.error.should.equal(constants.messages.SESSION_COULD_NOT_BE_FOUND);<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>            <div id="ed005dcd-20d1-4e66-adab-1c79a43fa583" class="list-group-item test passed">
          <!-- Test Heading -->
          <div class="test-heading">
            <h4 class="test-title">
              <span class="text-muted hidden"> it </span>
              should allow when session is complete
            </h4>
            <div class="pull-right">
              <button class="btn btn-link btn-sm toggle-btn toggle-code collapsed" data-toggle="collapse" data-target="#ed005dcd-20d1-4e66-adab-1c79a43fa583 > .test-code.collapse">Code</button>
              <span class="test-duration fast">27 ms</span>
            </div>
          </div>
          <!-- Test Errors -->
          <!-- Test Code -->
          <div class="test-code collapse">
            <pre><code class="hljs javascript small"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Settings();<br>s.maxContestants = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">var</span> hc = helper.createClient();<br>helper.createSession(hc, s, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>    <span class="hljs-keyword">var</span> sessionId = rm.sessionId;<br>    <span class="hljs-keyword">var</span> req = messageFactory.create(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE);<br>    req.sessionId = sessionId;<br>    <span class="hljs-keyword">var</span> session = helper.getLatestSession();<br>    session.complete();<br>    <span class="hljs-keyword">var</span> oc = helper.createClient();<br>    oc.emit(messageConstants.SESSION_INFORMATION_REQUEST_MESSAGE, req, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rm</span>) </span>{<br>        <span class="hljs-keyword">var</span> irm = messageFactory.restore(rm, messageConstants.SESSION_INFORMATION_RESPONSE_MESSAGE);<br>        irm.should.not.be.null();<br>        done();<br>    });<br>});</code></pre>
          </div>
          <!-- Test Error Stack -->
        </div>        </div>
              </div>
            </div>
        
        
          </div>
        </section>
        
          </div>
        </section>
        
          </div>
        </section>
    </div>

    <footer>
      <div class="container">
        <p>Report generated by <a href="http://adamgruber.github.io/mochawesome/" target="_blank">mochawesome</a>.<br>Designed and built by <a href="https://github.com/adamgruber" target="_blank">adamgruber</a>. &copy;2016.</p>
      </div>
    </footer>

    <!-- Nav Menu -->
    <div class="nav-menu-wrap">
      <div class="menu-overlay close-menu"></div>
      <nav class="menu">
        <button class="nav-menu-btn close-menu"><i class="icon-failed"></i></button>
        <ul class="list-unstyled main-menu">
                <li class="nav-menu-item">
                <a href="#4b8d40fc-89a0-4670-ba2b-e21a992efef8" class="nav-menu-item-link">Buzzer server</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#85d7f3b1-8eaf-4041-a3a4-b1781b21e0c9" class="nav-menu-item-link">contestant</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#cb06de25-190e-4aed-8dde-a3713349a163" class="nav-menu-item-link">join</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#b7312eac-62e2-4161-9515-2c9c3238f7fd" class="nav-menu-item-link has-passes">as individual</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#c3cf5749-cfc9-436e-bfea-76f37ff1beb2" class="nav-menu-item-link has-passes">with teams</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#f3855f72-4453-4057-a520-d6fe7d581b14" class="nav-menu-item-link has-passes">when team leader selection method is RANDOM</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#b438f457-75f9-4be0-aa56-ac392d493729" class="nav-menu-item-link has-passes">when team selection method is PLAYER_CHOICE</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#ba214ead-98dc-4b93-af45-36470e83fbda" class="nav-menu-item-link has-passes">rejoin</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#3d00238a-b5ba-4cfa-a5e9-0778ec6c915c" class="nav-menu-item-link has-passes">on disconnect</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#d1febcd9-6b62-4800-ab5c-23f6204a7d23" class="nav-menu-item-link has-passes">team leader inquiry response</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#9af2fa40-d7e1-4796-8189-5dff39712786" class="nav-menu-item-link has-passes">buzzerPress</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#1a3d44ff-ea2a-4515-996a-d11819e923a9" class="nav-menu-item-link has-passes">team name change request</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#2022c2db-5360-46ed-86dd-8c3c639102d0" class="nav-menu-item-link has-passes">info request</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#991684f9-ded6-4e4f-bf4e-b83c0e144794" class="nav-menu-item-link">Buzzer server</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#c78348da-3941-421f-83b9-34d26d90c061" class="nav-menu-item-link">host</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#ca0d853f-f383-42da-8f2e-06d2b3434988" class="nav-menu-item-link">create</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#0c79f9f0-dc49-4738-a908-bef66e831b56" class="nav-menu-item-link has-passes">session</a>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#affbcd18-8225-4469-9df8-e40e0772a9e0" class="nav-menu-item-link">rejoin</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#7f92277e-cb70-477f-92f2-45443f929602" class="nav-menu-item-link has-passes">session</a>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#38d59931-992d-4c82-aa78-bcf0cca4e837" class="nav-menu-item-link">complete</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#295abe8c-0a7e-44c3-8ee7-cd7f5e88ee3c" class="nav-menu-item-link has-passes">session</a>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#09569c59-88f9-47cd-aba3-6f5f9075d673" class="nav-menu-item-link">buzzer</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#9dcb3e73-bb16-48d1-9cba-c0d7c66437e5" class="nav-menu-item-link has-passes">action</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#b2df11b7-d901-41c5-8bae-145c5f402214" class="nav-menu-item-link has-passes">when accepted</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#000a707b-6fe4-4b7f-9bea-d03582cbd091" class="nav-menu-item-link has-passes">when rejected</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#b7f7edf8-b2bf-45d5-be3c-2eb3ccaa4687" class="nav-menu-item-link has-passes">when reset</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#080fa097-ebff-480e-a65d-4ecfbd17f9ec" class="nav-menu-item-link has-passes">when disabled</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#aefb9d27-7e22-4db6-b88d-45ff43c708fe" class="nav-menu-item-link has-passes">when enabled</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#081a7280-ce42-4743-9e35-e422eaaf8f61" class="nav-menu-item-link has-passes">team name change</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#34049a47-99b3-4ae0-8993-ae7531d99bd1" class="nav-menu-item-link has-passes">team leader change</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#6acfcb08-1d80-4258-8d8d-43bb57cec47a" class="nav-menu-item-link has-passes">settings update</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#d16c193f-4bcb-4fa4-8016-2631e84718c6" class="nav-menu-item-link has-passes">info request</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#2771e6fe-9984-4a03-9e6a-c707186fdcbe" class="nav-menu-item-link has-passes">on disconnect</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
                <li class="nav-menu-item">
                <a href="#335c75cc-5284-4d04-af8c-df67cbf16173" class="nav-menu-item-link">Buzzer server</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#32faa71f-b7ee-4951-ac69-27556034b84e" class="nav-menu-item-link">observer</a>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#8071faab-2564-40fd-8e4b-f1b0c4d6a676" class="nav-menu-item-link has-passes">rejoin</a>
            </li>
                  </ul>
                  <ul class="list-unstyled sub-menu">
                    <li class="nav-menu-item">
                <a href="#8695a318-f956-49ae-9c05-2626d2ce419e" class="nav-menu-item-link has-passes">info request</a>
            </li>
                  </ul>
            </li>
                  </ul>
            </li>
        </ul>
      </nav>
    </div>

    <!-- Scripts -->
    <script src="js/vendor.js"></script>
    <script src="js/mochawesome.js"></script>
  </body>
</html>
